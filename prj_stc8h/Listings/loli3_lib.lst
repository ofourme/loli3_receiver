C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE LOLI3_LIB
OBJECT MODULE PLACED IN .\Objects\loli3_lib.obj
COMPILER INVOKED BY: C:\bin\Keil_v5\C51\BIN\C51.EXE ..\src\loli3_lib.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\port;..\src) D
                    -EBUG OBJECTEXTEND CODE LISTINCLUDE SYMBOLS PRINT(.\Listings\loli3_lib.lst) TABS(2) OBJECT(.\Objects\loli3_lib.obj)

line level    source

   1          /*
   2          ********************************************************************************
   3          *                             ---ofme---
   4          *           Copyleft (c) 2021-2023, 寰椋灞辫胺 / ofourme@163.com
   5          *           License: LGPL
   6          *
   7          *   LOLI3_LIB.C-V1.0.0 (2023.Sep.25th)
   8          *
   9          ********************************************************************************
  10          */
  11          
  12          #define __LOLI3_LIB_C__
  13          
  14          /*-DO NOT ADD YOUR CODE BEFORE HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  15          /******************************************************************************/
  16          
  17          #include "loli3_lib.h"
   1      =1  /*
   2      =1  ********************************************************************************
   3      =1  *                             ---ofme---
   4      =1  *           Copyleft (c) 2021, 寰椋灞辫胺 / ofourme@163.com
   5      =1  *           License: LGPL
   6      =1  *
   7      =1  *   LIB.H-V1.0.1 (2021.Dec.11th)
   8      =1  *
   9      =1  ********************************************************************************
  10      =1  */
  11      =1  
  12      =1  #ifndef __LOLI3_LIB_H__
  13      =1  #define __LOLI3_LIB_H__
  14      =1  
  15      =1  /*-DO NOT ADD YOUR CODE BEFORE HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  16      =1  /******************************************************************************/
  17      =1  
  18      =1  #include "loli3_recv_port.h"
   1      =2  /*
   2      =2  ********************************************************************************
   3      =2  *                             ---ofme---
   4      =2  *           Copyleft (c) 2023, 寰椋灞辫胺 / ofourme@163.com
   5      =2  *           License: LGPL
   6      =2  *
   7      =2  *   LOLI3_RECV_PORT.H-V1.1.0 (2023.Oct.30th)
   8      =2  *
   9      =2  ********************************************************************************
  10      =2  */
  11      =2  
  12      =2  #ifndef __LOLI3_RECV_PORT_H__
  13      =2  #define __LOLI3_RECV_PORT_H__
  14      =2  
  15      =2  /*-DO NOT ADD YOUR CODE BEFORE HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  16      =2  /******************************************************************************/
  17      =2  
  18      =2  #include "hw.h"
   1      =3  /*
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 2   

   2      =3  ********************************************************************************
   3      =3  *                             ---ofme---
   4      =3  *           Copyleft (c) 2021-2023, 寰椋灞辫胺 / ofourme@163.com
   5      =3  *           License: LGPL
   6      =3  *
   7      =3  *   HW.H-V1.0.0 (2023.Oct.25th)
   8      =3  *
   9      =3  ********************************************************************************
  10      =3  */
  11      =3  
  12      =3  #ifndef __HW_H__
  13      =3  #define __HW_H__
  14      =3  
  15      =3  /*-DO NOT ADD YOUR CODE BEFORE HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  16      =3  /******************************************************************************/
  17      =3  
  18      =3  #define STC_15W408AS    0
  19      =3  #define STC_15W408AS_SOP20  0
  20      =3  #define ARDUINO_ATMEAG328P  0
  21      =3  #define STC_8H        1
  22      =3  #define STC_8H_TSSOP20    1
  23      =3  
  24      =3  #define FOSC  12000000UL
  25      =3  
  26      =3  /*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
  27      =3  
  28      =3  /*////////////////////////////////////////////////////////////////////////////*/
  29      =3  #if STC_15W408AS
           =3 /*////////////////////////////////////////////////////////////////////////////*/
           =3 
           =3 #include "stc15w.h"
           =3 #include<intrins.h>
           =3 
           =3 #define u8 unsigned char
           =3 #define u16 unsigned int
           =3 #define s16 signed int
           =3 #define u32 unsigned long
           =3 #define word_t u8
           =3 #define uint8_t u8
           =3 #define bool bit
           =3   
           =3 /*////////////////////////////////////////////////////////////////////////////*/
           =3 #elif STC_8H
  45      =3  /*////////////////////////////////////////////////////////////////////////////*/
  46      =3  
  47      =3  #include "STC8H.h"
   1      =4  #ifndef     __STC8H_H__
   2      =4  #define     __STC8H_H__
   3      =4  
   4      =4  /////////////////////////////////////////////////
   5      =4  
   6      =4  //包含本头文件后,不用另外再包含"REG51.H"
   7      =4  
   8      =4  sfr         P0          =           0x80;
   9      =4  sbit        P00         =           P0^0;
  10      =4  sbit        P01         =           P0^1;
  11      =4  sbit        P02         =           P0^2;
  12      =4  sbit        P03         =           P0^3;
  13      =4  sbit        P04         =           P0^4;
  14      =4  sbit        P05         =           P0^5;
  15      =4  sbit        P06         =           P0^6;
  16      =4  sbit        P07         =           P0^7;
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 3   

  17      =4  sfr         SP          =           0x81;
  18      =4  sfr         DPL         =           0x82;
  19      =4  sfr         DPH         =           0x83;
  20      =4  sfr         S4CON       =           0x84;
  21      =4  sfr         S4BUF       =           0x85;
  22      =4  sfr         PCON        =           0x87;
  23      =4  sfr         TCON        =           0x88;
  24      =4  sbit        TF1         =           TCON^7;
  25      =4  sbit        TR1         =           TCON^6;
  26      =4  sbit        TF0         =           TCON^5;
  27      =4  sbit        TR0         =           TCON^4;
  28      =4  sbit        IE1         =           TCON^3;
  29      =4  sbit        IT1         =           TCON^2;
  30      =4  sbit        IE0         =           TCON^1;
  31      =4  sbit        IT0         =           TCON^0;
  32      =4  sfr         TMOD        =           0x89;
  33      =4  sfr         TL0         =           0x8a;
  34      =4  sfr         TL1         =           0x8b;
  35      =4  sfr         TH0         =           0x8c;
  36      =4  sfr         TH1         =           0x8d;
  37      =4  sfr         AUXR        =           0x8e;
  38      =4  sfr         INTCLKO     =           0x8f;
  39      =4  sfr         P1          =           0x90;
  40      =4  sbit        P10         =           P1^0;
  41      =4  sbit        P11         =           P1^1;
  42      =4  sbit        P12         =           P1^2;
  43      =4  sbit        P13         =           P1^3;
  44      =4  sbit        P14         =           P1^4;
  45      =4  sbit        P15         =           P1^5;
  46      =4  sbit        P16         =           P1^6;
  47      =4  sbit        P17         =           P1^7;
  48      =4  sfr         P1M1        =           0x91;
  49      =4  sfr         P1M0        =           0x92;
  50      =4  sfr         P0M1        =           0x93;
  51      =4  sfr         P0M0        =           0x94;
  52      =4  sfr         P2M1        =           0x95;
  53      =4  sfr         P2M0        =           0x96;
  54      =4  sfr         SCON        =           0x98;
  55      =4  sbit        SM0         =           SCON^7;
  56      =4  sbit        SM1         =           SCON^6;
  57      =4  sbit        SM2         =           SCON^5;
  58      =4  sbit        REN         =           SCON^4;
  59      =4  sbit        TB8         =           SCON^3;
  60      =4  sbit        RB8         =           SCON^2;
  61      =4  sbit        TI          =           SCON^1;
  62      =4  sbit        RI          =           SCON^0;
  63      =4  sfr         SBUF        =           0x99;
  64      =4  sfr         S2CON       =           0x9a;
  65      =4  sfr         S2BUF       =           0x9b;
  66      =4  sfr         IRCBAND     =           0x9d;
  67      =4  sfr         LIRTRIM     =           0x9e;
  68      =4  sfr         IRTRIM      =           0x9f;
  69      =4  sfr         P2          =           0xa0;
  70      =4  sbit        P20         =           P2^0;
  71      =4  sbit        P21         =           P2^1;
  72      =4  sbit        P22         =           P2^2;
  73      =4  sbit        P23         =           P2^3;
  74      =4  sbit        P24         =           P2^4;
  75      =4  sbit        P25         =           P2^5;
  76      =4  sbit        P26         =           P2^6;
  77      =4  sbit        P27         =           P2^7;
  78      =4  sfr         P_SW1       =           0xa2;
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 4   

  79      =4  sfr         IE          =           0xa8;
  80      =4  sbit        EA          =           IE^7;
  81      =4  sbit        ELVD        =           IE^6;
  82      =4  sbit        EADC        =           IE^5;
  83      =4  sbit        ES          =           IE^4;
  84      =4  sbit        ET1         =           IE^3;
  85      =4  sbit        EX1         =           IE^2;
  86      =4  sbit        ET0         =           IE^1;
  87      =4  sbit        EX0         =           IE^0;
  88      =4  sfr         SADDR       =           0xa9;
  89      =4  sfr         WKTCL       =           0xaa;
  90      =4  sfr         WKTCH       =           0xab;
  91      =4  sfr         S3CON       =           0xac;
  92      =4  sfr         S3BUF       =           0xad;
  93      =4  sfr         TA          =           0xae;
  94      =4  sfr         IE2         =           0xaf;
  95      =4  sfr         P3          =           0xb0;
  96      =4  sbit        P30         =           P3^0;
  97      =4  sbit        P31         =           P3^1;
  98      =4  sbit        P32         =           P3^2;
  99      =4  sbit        P33         =           P3^3;
 100      =4  sbit        P34         =           P3^4;
 101      =4  sbit        P35         =           P3^5;
 102      =4  sbit        P36         =           P3^6;
 103      =4  sbit        P37         =           P3^7;
 104      =4  sfr         P3M1        =           0xb1;
 105      =4  sfr         P3M0        =           0xb2;
 106      =4  sfr         P4M1        =           0xb3;
 107      =4  sfr         P4M0        =           0xb4;
 108      =4  sfr         IP2         =           0xb5;
 109      =4  sfr         IP2H        =           0xb6;
 110      =4  sfr         IPH         =           0xb7;
 111      =4  sfr         IP          =           0xb8;
 112      =4  sbit        PPCA        =           IP^7;
 113      =4  sbit        PLVD        =           IP^6;
 114      =4  sbit        PADC        =           IP^5;
 115      =4  sbit        PS          =           IP^4;
 116      =4  sbit        PT1         =           IP^3;
 117      =4  sbit        PX1         =           IP^2;
 118      =4  sbit        PT0         =           IP^1;
 119      =4  sbit        PX0         =           IP^0;
 120      =4  sfr         SADEN       =           0xb9;
 121      =4  sfr         P_SW2       =           0xba;
 122      =4  sfr         ADC_CONTR   =           0xbc;
 123      =4  sfr         ADC_RES     =           0xbd;
 124      =4  sfr         ADC_RESL    =           0xbe;
 125      =4  sfr         P4          =           0xc0;
 126      =4  sbit        P40         =           P4^0;
 127      =4  sbit        P41         =           P4^1;
 128      =4  sbit        P42         =           P4^2;
 129      =4  sbit        P43         =           P4^3;
 130      =4  sbit        P44         =           P4^4;
 131      =4  sbit        P45         =           P4^5;
 132      =4  sbit        P46         =           P4^6;
 133      =4  sbit        P47         =           P4^7;
 134      =4  sfr         WDT_CONTR   =           0xc1;
 135      =4  sfr         IAP_DATA    =           0xc2;
 136      =4  sfr         IAP_ADDRH   =           0xc3;
 137      =4  sfr         IAP_ADDRL   =           0xc4;
 138      =4  sfr         IAP_CMD     =           0xc5;
 139      =4  sfr         IAP_TRIG    =           0xc6;
 140      =4  sfr         IAP_CONTR   =           0xc7;
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 5   

 141      =4  sfr         P5          =           0xc8;
 142      =4  sbit        P50         =           P5^0;
 143      =4  sbit        P51         =           P5^1;
 144      =4  sbit        P52         =           P5^2;
 145      =4  sbit        P53         =           P5^3;
 146      =4  sbit        P54         =           P5^4;
 147      =4  sbit        P55         =           P5^5;
 148      =4  sbit        P56         =           P5^6;
 149      =4  sbit        P57         =           P5^7;
 150      =4  sfr         P5M1        =           0xc9;
 151      =4  sfr         P5M0        =           0xca;
 152      =4  sfr         P6M1        =           0xcb;
 153      =4  sfr         P6M0        =           0xcc;
 154      =4  sfr         SPSTAT      =           0xcd;
 155      =4  sfr         SPCTL       =           0xce;
 156      =4  sfr         SPDAT       =           0xcf;
 157      =4  sfr         PSW         =           0xd0;
 158      =4  sbit        CY          =           PSW^7;
 159      =4  sbit        AC          =           PSW^6;
 160      =4  sbit        F0          =           PSW^5;
 161      =4  sbit        RS1         =           PSW^4;
 162      =4  sbit        RS0         =           PSW^3;
 163      =4  sbit        OV          =           PSW^2;
 164      =4  sbit        F1          =           PSW^1;
 165      =4  sbit        P           =           PSW^0;
 166      =4  sfr         T4T3M       =           0xd1;
 167      =4  sfr         T4H         =           0xd2;
 168      =4  sfr         T4L         =           0xd3;
 169      =4  sfr         T3H         =           0xd4;
 170      =4  sfr         T3L         =           0xd5;
 171      =4  sfr         T2H         =           0xd6;
 172      =4  sfr         T2L         =           0xd7;
 173      =4  sfr         USBCLK      =           0xdc;
 174      =4  sfr         ADCCFG      =           0xde;
 175      =4  sfr         IP3         =           0xdf;
 176      =4  sfr         ACC         =           0xe0;
 177      =4  sfr         P7M1        =           0xe1;
 178      =4  sfr         P7M0        =           0xe2;
 179      =4  sfr         DPS         =           0xe3;
 180      =4  sfr         DPL1        =           0xe4;
 181      =4  sfr         DPH1        =           0xe5;
 182      =4  sfr         CMPCR1      =           0xe6;
 183      =4  sfr         CMPCR2      =           0xe7;
 184      =4  sfr         P6          =           0xe8;
 185      =4  sbit        P60         =           P6^0;
 186      =4  sbit        P61         =           P6^1;
 187      =4  sbit        P62         =           P6^2;
 188      =4  sbit        P63         =           P6^3;
 189      =4  sbit        P64         =           P6^4;
 190      =4  sbit        P65         =           P6^5;
 191      =4  sbit        P66         =           P6^6;
 192      =4  sbit        P67         =           P6^7;
 193      =4  sfr         USBDAT      =           0xec;
 194      =4  sfr         IP3H        =           0xee;
 195      =4  sfr         AUXINTIF    =           0xef;
 196      =4  sfr         B           =           0xf0;
 197      =4  sfr         USBCON      =           0xf4;
 198      =4  sfr         IAP_TPS     =           0xf5;
 199      =4  sfr         P7          =           0xf8;
 200      =4  sbit        P70         =           P7^0;
 201      =4  sbit        P71         =           P7^1;
 202      =4  sbit        P72         =           P7^2;
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 6   

 203      =4  sbit        P73         =           P7^3;
 204      =4  sbit        P74         =           P7^4;
 205      =4  sbit        P75         =           P7^5;
 206      =4  sbit        P76         =           P7^6;
 207      =4  sbit        P77         =           P7^7;
 208      =4  sfr         USBADR      =           0xfc;
 209      =4  sfr         RSTCFG      =           0xff;
 210      =4  
 211      =4  //如下特殊功能寄存器位于扩展RAM区域
 212      =4  //访问这些寄存器,需先将P_SW2的BIT7设置为1,才可正常读写
 213      =4  
 214      =4  /////////////////////////////////////////////////
 215      =4  //FF00H-FFFFH
 216      =4  /////////////////////////////////////////////////
 217      =4  
 218      =4  
 219      =4  
 220      =4  /////////////////////////////////////////////////
 221      =4  //FE00H-FEFFH
 222      =4  /////////////////////////////////////////////////
 223      =4  
 224      =4  #define     CLKSEL                  (*(unsigned char volatile xdata *)0xfe00)
 225      =4  #define     CLKDIV                  (*(unsigned char volatile xdata *)0xfe01)
 226      =4  #define     HIRCCR                  (*(unsigned char volatile xdata *)0xfe02)
 227      =4  #define     XOSCCR                  (*(unsigned char volatile xdata *)0xfe03)
 228      =4  #define     IRC32KCR                (*(unsigned char volatile xdata *)0xfe04)
 229      =4  #define     MCLKOCR                 (*(unsigned char volatile xdata *)0xfe05)
 230      =4  #define     IRCDB                   (*(unsigned char volatile xdata *)0xfe06)
 231      =4  #define     X32KCR                  (*(unsigned char volatile xdata *)0xfe08)
 232      =4  
 233      =4  #define     P0PU                    (*(unsigned char volatile xdata *)0xfe10)
 234      =4  #define     P1PU                    (*(unsigned char volatile xdata *)0xfe11)
 235      =4  #define     P2PU                    (*(unsigned char volatile xdata *)0xfe12)
 236      =4  #define     P3PU                    (*(unsigned char volatile xdata *)0xfe13)
 237      =4  #define     P4PU                    (*(unsigned char volatile xdata *)0xfe14)
 238      =4  #define     P5PU                    (*(unsigned char volatile xdata *)0xfe15)
 239      =4  #define     P6PU                    (*(unsigned char volatile xdata *)0xfe16)
 240      =4  #define     P7PU                    (*(unsigned char volatile xdata *)0xfe17)
 241      =4  #define     P0NCS                   (*(unsigned char volatile xdata *)0xfe18)
 242      =4  #define     P1NCS                   (*(unsigned char volatile xdata *)0xfe19)
 243      =4  #define     P2NCS                   (*(unsigned char volatile xdata *)0xfe1a)
 244      =4  #define     P3NCS                   (*(unsigned char volatile xdata *)0xfe1b)
 245      =4  #define     P4NCS                   (*(unsigned char volatile xdata *)0xfe1c)
 246      =4  #define     P5NCS                   (*(unsigned char volatile xdata *)0xfe1d)
 247      =4  #define     P6NCS                   (*(unsigned char volatile xdata *)0xfe1e)
 248      =4  #define     P7NCS                   (*(unsigned char volatile xdata *)0xfe1f)
 249      =4  #define     P0SR                    (*(unsigned char volatile xdata *)0xfe20)
 250      =4  #define     P1SR                    (*(unsigned char volatile xdata *)0xfe21)
 251      =4  #define     P2SR                    (*(unsigned char volatile xdata *)0xfe22)
 252      =4  #define     P3SR                    (*(unsigned char volatile xdata *)0xfe23)
 253      =4  #define     P4SR                    (*(unsigned char volatile xdata *)0xfe24)
 254      =4  #define     P5SR                    (*(unsigned char volatile xdata *)0xfe25)
 255      =4  #define     P6SR                    (*(unsigned char volatile xdata *)0xfe26)
 256      =4  #define     P7SR                    (*(unsigned char volatile xdata *)0xfe27)
 257      =4  #define     P0DR                    (*(unsigned char volatile xdata *)0xfe28)
 258      =4  #define     P1DR                    (*(unsigned char volatile xdata *)0xfe29)
 259      =4  #define     P2DR                    (*(unsigned char volatile xdata *)0xfe2a)
 260      =4  #define     P3DR                    (*(unsigned char volatile xdata *)0xfe2b)
 261      =4  #define     P4DR                    (*(unsigned char volatile xdata *)0xfe2c)
 262      =4  #define     P5DR                    (*(unsigned char volatile xdata *)0xfe2d)
 263      =4  #define     P6DR                    (*(unsigned char volatile xdata *)0xfe2e)
 264      =4  #define     P7DR                    (*(unsigned char volatile xdata *)0xfe2f)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 7   

 265      =4  #define     P0IE                    (*(unsigned char volatile xdata *)0xfe30)
 266      =4  #define     P1IE                    (*(unsigned char volatile xdata *)0xfe31)
 267      =4  #define     P2IE                    (*(unsigned char volatile xdata *)0xfe32)
 268      =4  #define     P3IE                    (*(unsigned char volatile xdata *)0xfe33)
 269      =4  #define     P4IE                    (*(unsigned char volatile xdata *)0xfe34)
 270      =4  #define     P5IE                    (*(unsigned char volatile xdata *)0xfe35)
 271      =4  #define     P6IE                    (*(unsigned char volatile xdata *)0xfe36)
 272      =4  #define     P7IE                    (*(unsigned char volatile xdata *)0xfe37)
 273      =4  
 274      =4  #define     LCMIFCFG                (*(unsigned char volatile xdata *)0xfe50)
 275      =4  #define     LCMIFCFG2               (*(unsigned char volatile xdata *)0xfe51)
 276      =4  #define     LCMIFCR                 (*(unsigned char volatile xdata *)0xfe52)
 277      =4  #define     LCMIFSTA                (*(unsigned char volatile xdata *)0xfe53)
 278      =4  #define     LCMIFDATL               (*(unsigned char volatile xdata *)0xfe54)
 279      =4  #define     LCMIFDATH               (*(unsigned char volatile xdata *)0xfe55)
 280      =4  
 281      =4  #define     RTCCR                   (*(unsigned char volatile xdata *)0xfe60)
 282      =4  #define     RTCCFG                  (*(unsigned char volatile xdata *)0xfe61)
 283      =4  #define     RTCIEN                  (*(unsigned char volatile xdata *)0xfe62)
 284      =4  #define     RTCIF                   (*(unsigned char volatile xdata *)0xfe63)
 285      =4  #define     ALAHOUR                 (*(unsigned char volatile xdata *)0xfe64)
 286      =4  #define     ALAMIN                  (*(unsigned char volatile xdata *)0xfe65)
 287      =4  #define     ALASEC                  (*(unsigned char volatile xdata *)0xfe66)
 288      =4  #define     ALASSEC                 (*(unsigned char volatile xdata *)0xfe67)
 289      =4  #define     INIYEAR                 (*(unsigned char volatile xdata *)0xfe68)
 290      =4  #define     INIMONTH                (*(unsigned char volatile xdata *)0xfe69)
 291      =4  #define     INIDAY                  (*(unsigned char volatile xdata *)0xfe6a)
 292      =4  #define     INIHOUR                 (*(unsigned char volatile xdata *)0xfe6b)
 293      =4  #define     INIMIN                  (*(unsigned char volatile xdata *)0xfe6c)
 294      =4  #define     INISEC                  (*(unsigned char volatile xdata *)0xfe6d)
 295      =4  #define     INISSEC                 (*(unsigned char volatile xdata *)0xfe6e)
 296      =4  #define     YEAR                    (*(unsigned char volatile xdata *)0xfe70)
 297      =4  #define     MONTH                   (*(unsigned char volatile xdata *)0xfe71)
 298      =4  #define     DAY                     (*(unsigned char volatile xdata *)0xfe72)
 299      =4  #define     HOUR                    (*(unsigned char volatile xdata *)0xfe73)
 300      =4  #define     MIN                     (*(unsigned char volatile xdata *)0xfe74)
 301      =4  #define     SEC                     (*(unsigned char volatile xdata *)0xfe75)
 302      =4  #define     SSEC                    (*(unsigned char volatile xdata *)0xfe76)
 303      =4  
 304      =4  #define     I2CCFG                  (*(unsigned char volatile xdata *)0xfe80)
 305      =4  #define     I2CMSCR                 (*(unsigned char volatile xdata *)0xfe81)
 306      =4  #define     I2CMSST                 (*(unsigned char volatile xdata *)0xfe82)
 307      =4  #define     I2CSLCR                 (*(unsigned char volatile xdata *)0xfe83)
 308      =4  #define     I2CSLST                 (*(unsigned char volatile xdata *)0xfe84)
 309      =4  #define     I2CSLADR                (*(unsigned char volatile xdata *)0xfe85)
 310      =4  #define     I2CTXD                  (*(unsigned char volatile xdata *)0xfe86)
 311      =4  #define     I2CRXD                  (*(unsigned char volatile xdata *)0xfe87)
 312      =4  #define     I2CMSAUX                (*(unsigned char volatile xdata *)0xfe88)
 313      =4  
 314      =4  #define     TM2PS                   (*(unsigned char volatile xdata *)0xfea2)
 315      =4  #define     TM3PS                   (*(unsigned char volatile xdata *)0xfea3)
 316      =4  #define     TM4PS                   (*(unsigned char volatile xdata *)0xfea4)
 317      =4  #define     ADCTIM                  (*(unsigned char volatile xdata *)0xfea8)
 318      =4  #define     T3T4PIN                 (*(unsigned char volatile xdata *)0xfeac)
 319      =4  #define     ADCEXCFG                (*(unsigned char volatile xdata *)0xfead)
 320      =4  #define     CMPEXCFG                (*(unsigned char volatile xdata *)0xfeae)
 321      =4  
 322      =4  #define     PWM1_ETRPS              (*(unsigned char volatile xdata *)0xfeb0)
 323      =4  #define     PWM1_ENO                (*(unsigned char volatile xdata *)0xfeb1)
 324      =4  #define     PWM1_PS                 (*(unsigned char volatile xdata *)0xfeb2)
 325      =4  #define     PWM1_IOAUX              (*(unsigned char volatile xdata *)0xfeb3)
 326      =4  #define     PWM2_ETRPS              (*(unsigned char volatile xdata *)0xfeb4)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 8   

 327      =4  #define     PWM2_ENO                (*(unsigned char volatile xdata *)0xfeb5)
 328      =4  #define     PWM2_PS                 (*(unsigned char volatile xdata *)0xfeb6)
 329      =4  #define     PWM2_IOAUX              (*(unsigned char volatile xdata *)0xfeb7)
 330      =4  #define     PWM1_CR1                (*(unsigned char volatile xdata *)0xfec0)
 331      =4  #define     PWM1_CR2                (*(unsigned char volatile xdata *)0xfec1)
 332      =4  #define     PWM1_SMCR               (*(unsigned char volatile xdata *)0xfec2)
 333      =4  #define     PWM1_ETR                (*(unsigned char volatile xdata *)0xfec3)
 334      =4  #define     PWM1_IER                (*(unsigned char volatile xdata *)0xfec4)
 335      =4  #define     PWM1_SR1                (*(unsigned char volatile xdata *)0xfec5)
 336      =4  #define     PWM1_SR2                (*(unsigned char volatile xdata *)0xfec6)
 337      =4  #define     PWM1_EGR                (*(unsigned char volatile xdata *)0xfec7)
 338      =4  #define     PWM1_CCMR1              (*(unsigned char volatile xdata *)0xfec8)
 339      =4  #define     PWM1_CCMR2              (*(unsigned char volatile xdata *)0xfec9)
 340      =4  #define     PWM1_CCMR3              (*(unsigned char volatile xdata *)0xfeca)
 341      =4  #define     PWM1_CCMR4              (*(unsigned char volatile xdata *)0xfecb)
 342      =4  #define     PWM1_CCER1              (*(unsigned char volatile xdata *)0xfecc)
 343      =4  #define     PWM1_CCER2              (*(unsigned char volatile xdata *)0xfecd)
 344      =4  #define     PWM1_CNTR               (*(unsigned  int volatile xdata *)0xfece)
 345      =4  #define     PWM1_CNTRH              (*(unsigned char volatile xdata *)0xfece)
 346      =4  #define     PWM1_CNTRL              (*(unsigned char volatile xdata *)0xfecf)
 347      =4  #define     PWM1_PSCR               (*(unsigned  int volatile xdata *)0xfed0)
 348      =4  #define     PWM1_PSCRH              (*(unsigned char volatile xdata *)0xfed0)
 349      =4  #define     PWM1_PSCRL              (*(unsigned char volatile xdata *)0xfed1)
 350      =4  #define     PWM1_ARR                (*(unsigned  int volatile xdata *)0xfed2)
 351      =4  #define     PWM1_ARRH               (*(unsigned char volatile xdata *)0xfed2)
 352      =4  #define     PWM1_ARRL               (*(unsigned char volatile xdata *)0xfed3)
 353      =4  #define     PWM1_RCR                (*(unsigned char volatile xdata *)0xfed4)
 354      =4  #define     PWM1_CCR1               (*(unsigned  int volatile xdata *)0xfed5)
 355      =4  #define     PWM1_CCR1H              (*(unsigned char volatile xdata *)0xfed5)
 356      =4  #define     PWM1_CCR1L              (*(unsigned char volatile xdata *)0xfed6)
 357      =4  #define     PWM1_CCR2               (*(unsigned  int volatile xdata *)0xfed7)
 358      =4  #define     PWM1_CCR2H              (*(unsigned char volatile xdata *)0xfed7)
 359      =4  #define     PWM1_CCR2L              (*(unsigned char volatile xdata *)0xfed8)
 360      =4  #define     PWM1_CCR3               (*(unsigned  int volatile xdata *)0xfed9)
 361      =4  #define     PWM1_CCR3H              (*(unsigned char volatile xdata *)0xfed9)
 362      =4  #define     PWM1_CCR3L              (*(unsigned char volatile xdata *)0xfeda)
 363      =4  #define     PWM1_CCR4               (*(unsigned  int volatile xdata *)0xfedb)
 364      =4  #define     PWM1_CCR4H              (*(unsigned char volatile xdata *)0xfedb)
 365      =4  #define     PWM1_CCR4L              (*(unsigned char volatile xdata *)0xfedc)
 366      =4  #define     PWM1_BKR                (*(unsigned char volatile xdata *)0xfedd)
 367      =4  #define     PWM1_DTR                (*(unsigned char volatile xdata *)0xfede)
 368      =4  #define     PWM1_OISR               (*(unsigned char volatile xdata *)0xfedf)
 369      =4  #define     PWM2_CR1                (*(unsigned char volatile xdata *)0xfee0)
 370      =4  #define     PWM2_CR2                (*(unsigned char volatile xdata *)0xfee1)
 371      =4  #define     PWM2_SMCR               (*(unsigned char volatile xdata *)0xfee2)
 372      =4  #define     PWM2_ETR                (*(unsigned char volatile xdata *)0xfee3)
 373      =4  #define     PWM2_IER                (*(unsigned char volatile xdata *)0xfee4)
 374      =4  #define     PWM2_SR1                (*(unsigned char volatile xdata *)0xfee5)
 375      =4  #define     PWM2_SR2                (*(unsigned char volatile xdata *)0xfee6)
 376      =4  #define     PWM2_EGR                (*(unsigned char volatile xdata *)0xfee7)
 377      =4  #define     PWM2_CCMR1              (*(unsigned char volatile xdata *)0xfee8)
 378      =4  #define     PWM2_CCMR2              (*(unsigned char volatile xdata *)0xfee9)
 379      =4  #define     PWM2_CCMR3              (*(unsigned char volatile xdata *)0xfeea)
 380      =4  #define     PWM2_CCMR4              (*(unsigned char volatile xdata *)0xfeeb)
 381      =4  #define     PWM2_CCER1              (*(unsigned char volatile xdata *)0xfeec)
 382      =4  #define     PWM2_CCER2              (*(unsigned char volatile xdata *)0xfeed)
 383      =4  #define     PWM2_CNTR               (*(unsigned  int volatile xdata *)0xfeee)
 384      =4  #define     PWM2_CNTRH              (*(unsigned char volatile xdata *)0xfeee)
 385      =4  #define     PWM2_CNTRL              (*(unsigned char volatile xdata *)0xfeef)
 386      =4  #define     PWM2_PSCR               (*(unsigned  int volatile xdata *)0xfef0)
 387      =4  #define     PWM2_PSCRH              (*(unsigned char volatile xdata *)0xfef0)
 388      =4  #define     PWM2_PSCRL              (*(unsigned char volatile xdata *)0xfef1)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 9   

 389      =4  #define     PWM2_ARR                (*(unsigned  int volatile xdata *)0xfef2)
 390      =4  #define     PWM2_ARRH               (*(unsigned char volatile xdata *)0xfef2)
 391      =4  #define     PWM2_ARRL               (*(unsigned char volatile xdata *)0xfef3)
 392      =4  #define     PWM2_RCR                (*(unsigned char volatile xdata *)0xfef4)
 393      =4  #define     PWM2_CCR1               (*(unsigned  int volatile xdata *)0xfef5)
 394      =4  #define     PWM2_CCR1H              (*(unsigned char volatile xdata *)0xfef5)
 395      =4  #define     PWM2_CCR1L              (*(unsigned char volatile xdata *)0xfef6)
 396      =4  #define     PWM2_CCR2               (*(unsigned  int volatile xdata *)0xfef7)
 397      =4  #define     PWM2_CCR2H              (*(unsigned char volatile xdata *)0xfef7)
 398      =4  #define     PWM2_CCR2L              (*(unsigned char volatile xdata *)0xfef8)
 399      =4  #define     PWM2_CCR3               (*(unsigned  int volatile xdata *)0xfef9)
 400      =4  #define     PWM2_CCR3H              (*(unsigned char volatile xdata *)0xfef9)
 401      =4  #define     PWM2_CCR3L              (*(unsigned char volatile xdata *)0xfefa)
 402      =4  #define     PWM2_CCR4               (*(unsigned  int volatile xdata *)0xfefb)
 403      =4  #define     PWM2_CCR4H              (*(unsigned char volatile xdata *)0xfefb)
 404      =4  #define     PWM2_CCR4L              (*(unsigned char volatile xdata *)0xfefc)
 405      =4  #define     PWM2_BKR                (*(unsigned char volatile xdata *)0xfefd)
 406      =4  #define     PWM2_DTR                (*(unsigned char volatile xdata *)0xfefe)
 407      =4  #define     PWM2_OISR               (*(unsigned char volatile xdata *)0xfeff)
 408      =4  
 409      =4  #define     PWMA_ETRPS              (*(unsigned char volatile xdata *)0xfeb0)
 410      =4  #define     PWMA_ENO                (*(unsigned char volatile xdata *)0xfeb1)
 411      =4  #define     PWMA_PS                 (*(unsigned char volatile xdata *)0xfeb2)
 412      =4  #define     PWMA_IOAUX              (*(unsigned char volatile xdata *)0xfeb3)
 413      =4  #define     PWMB_ETRPS              (*(unsigned char volatile xdata *)0xfeb4)
 414      =4  #define     PWMB_ENO                (*(unsigned char volatile xdata *)0xfeb5)
 415      =4  #define     PWMB_PS                 (*(unsigned char volatile xdata *)0xfeb6)
 416      =4  #define     PWMB_IOAUX              (*(unsigned char volatile xdata *)0xfeb7)
 417      =4  #define     PWMA_CR1                (*(unsigned char volatile xdata *)0xfec0)
 418      =4  #define     PWMA_CR2                (*(unsigned char volatile xdata *)0xfec1)
 419      =4  #define     PWMA_SMCR               (*(unsigned char volatile xdata *)0xfec2)
 420      =4  #define     PWMA_ETR                (*(unsigned char volatile xdata *)0xfec3)
 421      =4  #define     PWMA_IER                (*(unsigned char volatile xdata *)0xfec4)
 422      =4  #define     PWMA_SR1                (*(unsigned char volatile xdata *)0xfec5)
 423      =4  #define     PWMA_SR2                (*(unsigned char volatile xdata *)0xfec6)
 424      =4  #define     PWMA_EGR                (*(unsigned char volatile xdata *)0xfec7)
 425      =4  #define     PWMA_CCMR1              (*(unsigned char volatile xdata *)0xfec8)
 426      =4  #define     PWMA_CCMR2              (*(unsigned char volatile xdata *)0xfec9)
 427      =4  #define     PWMA_CCMR3              (*(unsigned char volatile xdata *)0xfeca)
 428      =4  #define     PWMA_CCMR4              (*(unsigned char volatile xdata *)0xfecb)
 429      =4  #define     PWMA_CCER1              (*(unsigned char volatile xdata *)0xfecc)
 430      =4  #define     PWMA_CCER2              (*(unsigned char volatile xdata *)0xfecd)
 431      =4  #define     PWMA_CNTR               (*(unsigned  int volatile xdata *)0xfece)
 432      =4  #define     PWMA_CNTRH              (*(unsigned char volatile xdata *)0xfece)
 433      =4  #define     PWMA_CNTRL              (*(unsigned char volatile xdata *)0xfecf)
 434      =4  #define     PWMA_PSCR               (*(unsigned  int volatile xdata *)0xfed0)
 435      =4  #define     PWMA_PSCRH              (*(unsigned char volatile xdata *)0xfed0)
 436      =4  #define     PWMA_PSCRL              (*(unsigned char volatile xdata *)0xfed1)
 437      =4  #define     PWMA_ARR                (*(unsigned  int volatile xdata *)0xfed2)
 438      =4  #define     PWMA_ARRH               (*(unsigned char volatile xdata *)0xfed2)
 439      =4  #define     PWMA_ARRL               (*(unsigned char volatile xdata *)0xfed3)
 440      =4  #define     PWMA_RCR                (*(unsigned char volatile xdata *)0xfed4)
 441      =4  #define     PWMA_CCR1               (*(unsigned  int volatile xdata *)0xfed5)
 442      =4  #define     PWMA_CCR1H              (*(unsigned char volatile xdata *)0xfed5)
 443      =4  #define     PWMA_CCR1L              (*(unsigned char volatile xdata *)0xfed6)
 444      =4  #define     PWMA_CCR2               (*(unsigned  int volatile xdata *)0xfed7)
 445      =4  #define     PWMA_CCR2H              (*(unsigned char volatile xdata *)0xfed7)
 446      =4  #define     PWMA_CCR2L              (*(unsigned char volatile xdata *)0xfed8)
 447      =4  #define     PWMA_CCR3               (*(unsigned  int volatile xdata *)0xfed9)
 448      =4  #define     PWMA_CCR3H              (*(unsigned char volatile xdata *)0xfed9)
 449      =4  #define     PWMA_CCR3L              (*(unsigned char volatile xdata *)0xfeda)
 450      =4  #define     PWMA_CCR4               (*(unsigned  int volatile xdata *)0xfedb)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 10  

 451      =4  #define     PWMA_CCR4H              (*(unsigned char volatile xdata *)0xfedb)
 452      =4  #define     PWMA_CCR4L              (*(unsigned char volatile xdata *)0xfedc)
 453      =4  #define     PWMA_BKR                (*(unsigned char volatile xdata *)0xfedd)
 454      =4  #define     PWMA_DTR                (*(unsigned char volatile xdata *)0xfede)
 455      =4  #define     PWMA_OISR               (*(unsigned char volatile xdata *)0xfedf)
 456      =4  #define     PWMB_CR1                (*(unsigned char volatile xdata *)0xfee0)
 457      =4  #define     PWMB_CR2                (*(unsigned char volatile xdata *)0xfee1)
 458      =4  #define     PWMB_SMCR               (*(unsigned char volatile xdata *)0xfee2)
 459      =4  #define     PWMB_ETR                (*(unsigned char volatile xdata *)0xfee3)
 460      =4  #define     PWMB_IER                (*(unsigned char volatile xdata *)0xfee4)
 461      =4  #define     PWMB_SR1                (*(unsigned char volatile xdata *)0xfee5)
 462      =4  #define     PWMB_SR2                (*(unsigned char volatile xdata *)0xfee6)
 463      =4  #define     PWMB_EGR                (*(unsigned char volatile xdata *)0xfee7)
 464      =4  #define     PWMB_CCMR1              (*(unsigned char volatile xdata *)0xfee8)
 465      =4  #define     PWMB_CCMR2              (*(unsigned char volatile xdata *)0xfee9)
 466      =4  #define     PWMB_CCMR3              (*(unsigned char volatile xdata *)0xfeea)
 467      =4  #define     PWMB_CCMR4              (*(unsigned char volatile xdata *)0xfeeb)
 468      =4  #define     PWMB_CCER1              (*(unsigned char volatile xdata *)0xfeec)
 469      =4  #define     PWMB_CCER2              (*(unsigned char volatile xdata *)0xfeed)
 470      =4  #define     PWMB_CNTR               (*(unsigned  int volatile xdata *)0xfeee)
 471      =4  #define     PWMB_CNTRH              (*(unsigned char volatile xdata *)0xfeee)
 472      =4  #define     PWMB_CNTRL              (*(unsigned char volatile xdata *)0xfeef)
 473      =4  #define     PWMB_PSCR               (*(unsigned  int volatile xdata *)0xfef0)
 474      =4  #define     PWMB_PSCRH              (*(unsigned char volatile xdata *)0xfef0)
 475      =4  #define     PWMB_PSCRL              (*(unsigned char volatile xdata *)0xfef1)
 476      =4  #define     PWMB_ARR                (*(unsigned  int volatile xdata *)0xfef2)
 477      =4  #define     PWMB_ARRH               (*(unsigned char volatile xdata *)0xfef2)
 478      =4  #define     PWMB_ARRL               (*(unsigned char volatile xdata *)0xfef3)
 479      =4  #define     PWMB_RCR                (*(unsigned char volatile xdata *)0xfef4)
 480      =4  #define     PWMB_CCR5               (*(unsigned  int volatile xdata *)0xfef5)
 481      =4  #define     PWMB_CCR5H              (*(unsigned char volatile xdata *)0xfef5)
 482      =4  #define     PWMB_CCR5L              (*(unsigned char volatile xdata *)0xfef6)
 483      =4  #define     PWMB_CCR6               (*(unsigned  int volatile xdata *)0xfef7)
 484      =4  #define     PWMB_CCR6H              (*(unsigned char volatile xdata *)0xfef7)
 485      =4  #define     PWMB_CCR6L              (*(unsigned char volatile xdata *)0xfef8)
 486      =4  #define     PWMB_CCR7               (*(unsigned  int volatile xdata *)0xfef9)
 487      =4  #define     PWMB_CCR7H              (*(unsigned char volatile xdata *)0xfef9)
 488      =4  #define     PWMB_CCR7L              (*(unsigned char volatile xdata *)0xfefa)
 489      =4  #define     PWMB_CCR8               (*(unsigned  int volatile xdata *)0xfefb)
 490      =4  #define     PWMB_CCR8H              (*(unsigned char volatile xdata *)0xfefb)
 491      =4  #define     PWMB_CCR8L              (*(unsigned char volatile xdata *)0xfefc)
 492      =4  #define     PWMB_BKR                (*(unsigned char volatile xdata *)0xfefd)
 493      =4  #define     PWMB_DTR                (*(unsigned char volatile xdata *)0xfefe)
 494      =4  #define     PWMB_OISR               (*(unsigned char volatile xdata *)0xfeff)
 495      =4  
 496      =4  /////////////////////////////////////////////////
 497      =4  //FD00H-FDFFH
 498      =4  /////////////////////////////////////////////////
 499      =4  
 500      =4  #define     P0INTE                  (*(unsigned char volatile xdata *)0xfd00)
 501      =4  #define     P1INTE                  (*(unsigned char volatile xdata *)0xfd01)
 502      =4  #define     P2INTE                  (*(unsigned char volatile xdata *)0xfd02)
 503      =4  #define     P3INTE                  (*(unsigned char volatile xdata *)0xfd03)
 504      =4  #define     P4INTE                  (*(unsigned char volatile xdata *)0xfd04)
 505      =4  #define     P5INTE                  (*(unsigned char volatile xdata *)0xfd05)
 506      =4  #define     P6INTE                  (*(unsigned char volatile xdata *)0xfd06)
 507      =4  #define     P7INTE                  (*(unsigned char volatile xdata *)0xfd07)
 508      =4  #define     P0INTF                  (*(unsigned char volatile xdata *)0xfd10)
 509      =4  #define     P1INTF                  (*(unsigned char volatile xdata *)0xfd11)
 510      =4  #define     P2INTF                  (*(unsigned char volatile xdata *)0xfd12)
 511      =4  #define     P3INTF                  (*(unsigned char volatile xdata *)0xfd13)
 512      =4  #define     P4INTF                  (*(unsigned char volatile xdata *)0xfd14)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 11  

 513      =4  #define     P5INTF                  (*(unsigned char volatile xdata *)0xfd15)
 514      =4  #define     P6INTF                  (*(unsigned char volatile xdata *)0xfd16)
 515      =4  #define     P7INTF                  (*(unsigned char volatile xdata *)0xfd17)
 516      =4  #define     P0IM0                   (*(unsigned char volatile xdata *)0xfd20)
 517      =4  #define     P1IM0                   (*(unsigned char volatile xdata *)0xfd21)
 518      =4  #define     P2IM0                   (*(unsigned char volatile xdata *)0xfd22)
 519      =4  #define     P3IM0                   (*(unsigned char volatile xdata *)0xfd23)
 520      =4  #define     P4IM0                   (*(unsigned char volatile xdata *)0xfd24)
 521      =4  #define     P5IM0                   (*(unsigned char volatile xdata *)0xfd25)
 522      =4  #define     P6IM0                   (*(unsigned char volatile xdata *)0xfd26)
 523      =4  #define     P7IM0                   (*(unsigned char volatile xdata *)0xfd27)
 524      =4  #define     P0IM1                   (*(unsigned char volatile xdata *)0xfd30)
 525      =4  #define     P1IM1                   (*(unsigned char volatile xdata *)0xfd31)
 526      =4  #define     P2IM1                   (*(unsigned char volatile xdata *)0xfd32)
 527      =4  #define     P3IM1                   (*(unsigned char volatile xdata *)0xfd33)
 528      =4  #define     P4IM1                   (*(unsigned char volatile xdata *)0xfd34)
 529      =4  #define     P5IM1                   (*(unsigned char volatile xdata *)0xfd35)
 530      =4  #define     P6IM1                   (*(unsigned char volatile xdata *)0xfd36)
 531      =4  #define     P7IM1                   (*(unsigned char volatile xdata *)0xfd37)
 532      =4  #define     P0WKUE                  (*(unsigned char volatile xdata *)0xfd40)
 533      =4  #define     P1WKUE                  (*(unsigned char volatile xdata *)0xfd41)
 534      =4  #define     P2WKUE                  (*(unsigned char volatile xdata *)0xfd42)
 535      =4  #define     P3WKUE                  (*(unsigned char volatile xdata *)0xfd43)
 536      =4  #define     P4WKUE                  (*(unsigned char volatile xdata *)0xfd44)
 537      =4  #define     P5WKUE                  (*(unsigned char volatile xdata *)0xfd45)
 538      =4  #define     P6WKUE                  (*(unsigned char volatile xdata *)0xfd46)
 539      =4  #define     P7WKUE                  (*(unsigned char volatile xdata *)0xfd47)
 540      =4  
 541      =4  #define     PIN_IP                  (*(unsigned char volatile xdata *)0xfd60)
 542      =4  #define     PIN_IPH                 (*(unsigned char volatile xdata *)0xfd61)
 543      =4  
 544      =4  #define     CHIPID                  ( (unsigned char volatile xdata *)0xfde0)
 545      =4  
 546      =4  #define     CHIPID0                 (*(unsigned char volatile xdata *)0xfde0)
 547      =4  #define     CHIPID1                 (*(unsigned char volatile xdata *)0xfde1)
 548      =4  #define     CHIPID2                 (*(unsigned char volatile xdata *)0xfde2)
 549      =4  #define     CHIPID3                 (*(unsigned char volatile xdata *)0xfde3)
 550      =4  #define     CHIPID4                 (*(unsigned char volatile xdata *)0xfde4)
 551      =4  #define     CHIPID5                 (*(unsigned char volatile xdata *)0xfde5)
 552      =4  #define     CHIPID6                 (*(unsigned char volatile xdata *)0xfde6)
 553      =4  #define     CHIPID7                 (*(unsigned char volatile xdata *)0xfde7)
 554      =4  #define     CHIPID8                 (*(unsigned char volatile xdata *)0xfde8)
 555      =4  #define     CHIPID9                 (*(unsigned char volatile xdata *)0xfde9)
 556      =4  #define     CHIPID10                (*(unsigned char volatile xdata *)0xfdea)
 557      =4  #define     CHIPID11                (*(unsigned char volatile xdata *)0xfdeb)
 558      =4  #define     CHIPID12                (*(unsigned char volatile xdata *)0xfdec)
 559      =4  #define     CHIPID13                (*(unsigned char volatile xdata *)0xfded)
 560      =4  #define     CHIPID14                (*(unsigned char volatile xdata *)0xfdee)
 561      =4  #define     CHIPID15                (*(unsigned char volatile xdata *)0xfdef)
 562      =4  #define     CHIPID16                (*(unsigned char volatile xdata *)0xfdf0)
 563      =4  #define     CHIPID17                (*(unsigned char volatile xdata *)0xfdf1)
 564      =4  #define     CHIPID18                (*(unsigned char volatile xdata *)0xfdf2)
 565      =4  #define     CHIPID19                (*(unsigned char volatile xdata *)0xfdf3)
 566      =4  #define     CHIPID20                (*(unsigned char volatile xdata *)0xfdf4)
 567      =4  #define     CHIPID21                (*(unsigned char volatile xdata *)0xfdf5)
 568      =4  #define     CHIPID22                (*(unsigned char volatile xdata *)0xfdf6)
 569      =4  #define     CHIPID23                (*(unsigned char volatile xdata *)0xfdf7)
 570      =4  #define     CHIPID24                (*(unsigned char volatile xdata *)0xfdf8)
 571      =4  #define     CHIPID25                (*(unsigned char volatile xdata *)0xfdf9)
 572      =4  #define     CHIPID26                (*(unsigned char volatile xdata *)0xfdfa)
 573      =4  #define     CHIPID27                (*(unsigned char volatile xdata *)0xfdfb)
 574      =4  #define     CHIPID28                (*(unsigned char volatile xdata *)0xfdfc)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 12  

 575      =4  #define     CHIPID29                (*(unsigned char volatile xdata *)0xfdfd)
 576      =4  #define     CHIPID30                (*(unsigned char volatile xdata *)0xfdfe)
 577      =4  #define     CHIPID31                (*(unsigned char volatile xdata *)0xfdff)
 578      =4  
 579      =4  /////////////////////////////////////////////////
 580      =4  //FC00H-FCFFH
 581      =4  /////////////////////////////////////////////////
 582      =4  
 583      =4  #define     MD3                     (*(unsigned char volatile xdata *)0xfcf0)
 584      =4  #define     MD2                     (*(unsigned char volatile xdata *)0xfcf1)
 585      =4  #define     MD1                     (*(unsigned char volatile xdata *)0xfcf2)
 586      =4  #define     MD0                     (*(unsigned char volatile xdata *)0xfcf3)
 587      =4  #define     MD5                     (*(unsigned char volatile xdata *)0xfcf4)
 588      =4  #define     MD4                     (*(unsigned char volatile xdata *)0xfcf5)
 589      =4  #define     ARCON                   (*(unsigned char volatile xdata *)0xfcf6)
 590      =4  #define     OPCON                   (*(unsigned char volatile xdata *)0xfcf7)
 591      =4  
 592      =4  /////////////////////////////////////////////////
 593      =4  //FB00H-FBFFH
 594      =4  /////////////////////////////////////////////////
 595      =4  
 596      =4  #define     COMEN                   (*(unsigned char volatile xdata *)0xfb00)
 597      =4  #define     SEGENL                  (*(unsigned char volatile xdata *)0xfb01)
 598      =4  #define     SEGENH                  (*(unsigned char volatile xdata *)0xfb02)
 599      =4  #define     LEDCTRL                 (*(unsigned char volatile xdata *)0xfb03)
 600      =4  #define     LEDCKS                  (*(unsigned char volatile xdata *)0xfb04)
 601      =4  #define     COM0_DA_L               (*(unsigned char volatile xdata *)0xfb10)
 602      =4  #define     COM1_DA_L               (*(unsigned char volatile xdata *)0xfb11)
 603      =4  #define     COM2_DA_L               (*(unsigned char volatile xdata *)0xfb12)
 604      =4  #define     COM3_DA_L               (*(unsigned char volatile xdata *)0xfb13)
 605      =4  #define     COM4_DA_L               (*(unsigned char volatile xdata *)0xfb14)
 606      =4  #define     COM5_DA_L               (*(unsigned char volatile xdata *)0xfb15)
 607      =4  #define     COM6_DA_L               (*(unsigned char volatile xdata *)0xfb16)
 608      =4  #define     COM7_DA_L               (*(unsigned char volatile xdata *)0xfb17)
 609      =4  #define     COM0_DA_H               (*(unsigned char volatile xdata *)0xfb18)
 610      =4  #define     COM1_DA_H               (*(unsigned char volatile xdata *)0xfb19)
 611      =4  #define     COM2_DA_H               (*(unsigned char volatile xdata *)0xfb1a)
 612      =4  #define     COM3_DA_H               (*(unsigned char volatile xdata *)0xfb1b)
 613      =4  #define     COM4_DA_H               (*(unsigned char volatile xdata *)0xfb1c)
 614      =4  #define     COM5_DA_H               (*(unsigned char volatile xdata *)0xfb1d)
 615      =4  #define     COM6_DA_H               (*(unsigned char volatile xdata *)0xfb1e)
 616      =4  #define     COM7_DA_H               (*(unsigned char volatile xdata *)0xfb1f)
 617      =4  #define     COM0_DC_L               (*(unsigned char volatile xdata *)0xfb20)
 618      =4  #define     COM1_DC_L               (*(unsigned char volatile xdata *)0xfb21)
 619      =4  #define     COM2_DC_L               (*(unsigned char volatile xdata *)0xfb22)
 620      =4  #define     COM3_DC_L               (*(unsigned char volatile xdata *)0xfb23)
 621      =4  #define     COM4_DC_L               (*(unsigned char volatile xdata *)0xfb24)
 622      =4  #define     COM5_DC_L               (*(unsigned char volatile xdata *)0xfb25)
 623      =4  #define     COM6_DC_L               (*(unsigned char volatile xdata *)0xfb26)
 624      =4  #define     COM7_DC_L               (*(unsigned char volatile xdata *)0xfb27)
 625      =4  #define     COM0_DC_H               (*(unsigned char volatile xdata *)0xfb28)
 626      =4  #define     COM1_DC_H               (*(unsigned char volatile xdata *)0xfb29)
 627      =4  #define     COM2_DC_H               (*(unsigned char volatile xdata *)0xfb2a)
 628      =4  #define     COM3_DC_H               (*(unsigned char volatile xdata *)0xfb2b)
 629      =4  #define     COM4_DC_H               (*(unsigned char volatile xdata *)0xfb2c)
 630      =4  #define     COM5_DC_H               (*(unsigned char volatile xdata *)0xfb2d)
 631      =4  #define     COM6_DC_H               (*(unsigned char volatile xdata *)0xfb2e)
 632      =4  #define     COM7_DC_H               (*(unsigned char volatile xdata *)0xfb2f)
 633      =4  
 634      =4  #define     TSCHEN1                 (*(unsigned char volatile xdata *)0xfb40)
 635      =4  #define     TSCHEN2                 (*(unsigned char volatile xdata *)0xfb41)
 636      =4  #define     TSCFG1                  (*(unsigned char volatile xdata *)0xfb42)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 13  

 637      =4  #define     TSCFG2                  (*(unsigned char volatile xdata *)0xfb43)
 638      =4  #define     TSWUTC                  (*(unsigned char volatile xdata *)0xfb44)
 639      =4  #define     TSCTRL                  (*(unsigned char volatile xdata *)0xfb45)
 640      =4  #define     TSSTA1                  (*(unsigned char volatile xdata *)0xfb46)
 641      =4  #define     TSSTA2                  (*(unsigned char volatile xdata *)0xfb47)
 642      =4  #define     TSRT                    (*(unsigned char volatile xdata *)0xfb48)
 643      =4  #define     TSDAT                   (*(unsigned int  volatile xdata *)0xfb49)
 644      =4  #define     TSDATH                  (*(unsigned char volatile xdata *)0xfb49)
 645      =4  #define     TSDATL                  (*(unsigned char volatile xdata *)0xfb4A)
 646      =4  #define     TSTH00                  (*(unsigned int  volatile xdata *)0xfb50)
 647      =4  #define     TSTH00H                 (*(unsigned char volatile xdata *)0xfb50)
 648      =4  #define     TSTH00L                 (*(unsigned char volatile xdata *)0xfb51)
 649      =4  #define     TSTH01                  (*(unsigned int  volatile xdata *)0xfb52)
 650      =4  #define     TSTH01H                 (*(unsigned char volatile xdata *)0xfb52)
 651      =4  #define     TSTH01L                 (*(unsigned char volatile xdata *)0xfb53)
 652      =4  #define     TSTH02                  (*(unsigned int  volatile xdata *)0xfb54)
 653      =4  #define     TSTH02H                 (*(unsigned char volatile xdata *)0xfb54)
 654      =4  #define     TSTH02L                 (*(unsigned char volatile xdata *)0xfb55)
 655      =4  #define     TSTH03                  (*(unsigned int  volatile xdata *)0xfb56)
 656      =4  #define     TSTH03H                 (*(unsigned char volatile xdata *)0xfb56)
 657      =4  #define     TSTH03L                 (*(unsigned char volatile xdata *)0xfb57)
 658      =4  #define     TSTH04                  (*(unsigned int  volatile xdata *)0xfb58)
 659      =4  #define     TSTH04H                 (*(unsigned char volatile xdata *)0xfb58)
 660      =4  #define     TSTH04L                 (*(unsigned char volatile xdata *)0xfb59)
 661      =4  #define     TSTH05                  (*(unsigned int  volatile xdata *)0xfb5a)
 662      =4  #define     TSTH05H                 (*(unsigned char volatile xdata *)0xfb5a)
 663      =4  #define     TSTH05L                 (*(unsigned char volatile xdata *)0xfb5b)
 664      =4  #define     TSTH06                  (*(unsigned int  volatile xdata *)0xfb5c)
 665      =4  #define     TSTH06H                 (*(unsigned char volatile xdata *)0xfb5c)
 666      =4  #define     TSTH06L                 (*(unsigned char volatile xdata *)0xfb5d)
 667      =4  #define     TSTH07                  (*(unsigned int  volatile xdata *)0xfb5e)
 668      =4  #define     TSTH07H                 (*(unsigned char volatile xdata *)0xfb5e)
 669      =4  #define     TSTH07L                 (*(unsigned char volatile xdata *)0xfb5f)
 670      =4  #define     TSTH08                  (*(unsigned int  volatile xdata *)0xfb60)
 671      =4  #define     TSTH08H                 (*(unsigned char volatile xdata *)0xfb60)
 672      =4  #define     TSTH08L                 (*(unsigned char volatile xdata *)0xfb61)
 673      =4  #define     TSTH09                  (*(unsigned int  volatile xdata *)0xfb62)
 674      =4  #define     TSTH09H                 (*(unsigned char volatile xdata *)0xfb62)
 675      =4  #define     TSTH09L                 (*(unsigned char volatile xdata *)0xfb63)
 676      =4  #define     TSTH10                  (*(unsigned int  volatile xdata *)0xfb64)
 677      =4  #define     TSTH10H                 (*(unsigned char volatile xdata *)0xfb64)
 678      =4  #define     TSTH10L                 (*(unsigned char volatile xdata *)0xfb65)
 679      =4  #define     TSTH11                  (*(unsigned int  volatile xdata *)0xfb66)
 680      =4  #define     TSTH11H                 (*(unsigned char volatile xdata *)0xfb66)
 681      =4  #define     TSTH11L                 (*(unsigned char volatile xdata *)0xfb67)
 682      =4  #define     TSTH12                  (*(unsigned int  volatile xdata *)0xfb68)
 683      =4  #define     TSTH12H                 (*(unsigned char volatile xdata *)0xfb68)
 684      =4  #define     TSTH12L                 (*(unsigned char volatile xdata *)0xfb69)
 685      =4  #define     TSTH13                  (*(unsigned int  volatile xdata *)0xfb6a)
 686      =4  #define     TSTH13H                 (*(unsigned char volatile xdata *)0xfb6a)
 687      =4  #define     TSTH13L                 (*(unsigned char volatile xdata *)0xfb6b)
 688      =4  #define     TSTH14                  (*(unsigned int  volatile xdata *)0xfb6c)
 689      =4  #define     TSTH14H                 (*(unsigned char volatile xdata *)0xfb6c)
 690      =4  #define     TSTH14L                 (*(unsigned char volatile xdata *)0xfb6d)
 691      =4  #define     TSTH15                  (*(unsigned int  volatile xdata *)0xfb6e)
 692      =4  #define     TSTH15H                 (*(unsigned char volatile xdata *)0xfb6e)
 693      =4  #define     TSTH15L                 (*(unsigned char volatile xdata *)0xfb6f)
 694      =4  
 695      =4  #define     LCDCFG                  (*(unsigned char volatile xdata *)0xfb80)
 696      =4  #define     LCDCFG2                 (*(unsigned char volatile xdata *)0xfb81)
 697      =4  #define     DBLNTH                  (*(unsigned char volatile xdata *)0xfb82)
 698      =4  #define     COMLNTHL                (*(unsigned char volatile xdata *)0xdb83)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 14  

 699      =4  #define     COMLNTHM                (*(unsigned char volatile xdata *)0xfb84)
 700      =4  #define     COMLNTHH                (*(unsigned char volatile xdata *)0xfb85)
 701      =4  #define     BLINKFRPS               (*(unsigned char volatile xdata *)0xfb86)
 702      =4  #define     LCDCR                   (*(unsigned char volatile xdata *)0xfb87)
 703      =4  #define     COM_ON_A                (*(unsigned char volatile xdata *)0xfb88)
 704      =4  #define     COM_ON_B                (*(unsigned char volatile xdata *)0xfb89)
 705      =4  #define     SEG_ON_A                (*(unsigned char volatile xdata *)0xfb8a)
 706      =4  #define     SEG_ON_B                (*(unsigned char volatile xdata *)0xfb8b)
 707      =4  #define     SEG_ON_C                (*(unsigned char volatile xdata *)0xfb8c)
 708      =4  #define     SEG_ON_D                (*(unsigned char volatile xdata *)0xfb8d)
 709      =4  #define     SEG_ON_E                (*(unsigned char volatile xdata *)0xfb8e)
 710      =4  #define     C0SEGV0                 (*(unsigned char volatile xdata *)0xfb90)
 711      =4  #define     C0SEGV1                 (*(unsigned char volatile xdata *)0xfb91)
 712      =4  #define     C0SEGV2                 (*(unsigned char volatile xdata *)0xfb92)
 713      =4  #define     C0SEGV3                 (*(unsigned char volatile xdata *)0xfb93)
 714      =4  #define     C0SEGV4                 (*(unsigned char volatile xdata *)0xfb94)
 715      =4  #define     C1SEGV0                 (*(unsigned char volatile xdata *)0xfb98)
 716      =4  #define     C1SEGV1                 (*(unsigned char volatile xdata *)0xfb99)
 717      =4  #define     C1SEGV2                 (*(unsigned char volatile xdata *)0xfb9a)
 718      =4  #define     C1SEGV3                 (*(unsigned char volatile xdata *)0xfb9b)
 719      =4  #define     C1SEGV4                 (*(unsigned char volatile xdata *)0xfb9c)
 720      =4  #define     C2SEGV0                 (*(unsigned char volatile xdata *)0xfba0)
 721      =4  #define     C2SEGV1                 (*(unsigned char volatile xdata *)0xfba1)
 722      =4  #define     C2SEGV2                 (*(unsigned char volatile xdata *)0xfba2)
 723      =4  #define     C2SEGV3                 (*(unsigned char volatile xdata *)0xfba3)
 724      =4  #define     C2SEGV4                 (*(unsigned char volatile xdata *)0xfba4)
 725      =4  #define     C3SEGV0                 (*(unsigned char volatile xdata *)0xfba8)
 726      =4  #define     C3SEGV1                 (*(unsigned char volatile xdata *)0xfba9)
 727      =4  #define     C3SEGV2                 (*(unsigned char volatile xdata *)0xfbaa)
 728      =4  #define     C3SEGV3                 (*(unsigned char volatile xdata *)0xfbab)
 729      =4  #define     C3SEGV4                 (*(unsigned char volatile xdata *)0xfbac)
 730      =4  
 731      =4  /////////////////////////////////////////////////
 732      =4  //FA00H-FAFFH
 733      =4  /////////////////////////////////////////////////
 734      =4  
 735      =4  #define     DMA_M2M_CFG             (*(unsigned char volatile xdata *)0xfa00)
 736      =4  #define     DMA_M2M_CR              (*(unsigned char volatile xdata *)0xfa01)
 737      =4  #define     DMA_M2M_STA             (*(unsigned char volatile xdata *)0xfa02)
 738      =4  #define     DMA_M2M_AMT             (*(unsigned char volatile xdata *)0xfa03)
 739      =4  #define     DMA_M2M_DONE            (*(unsigned char volatile xdata *)0xfa04)
 740      =4  #define     DMA_M2M_TXAH            (*(unsigned char volatile xdata *)0xfa05)
 741      =4  #define     DMA_M2M_TXAL            (*(unsigned char volatile xdata *)0xfa06)
 742      =4  #define     DMA_M2M_RXAH            (*(unsigned char volatile xdata *)0xfa07)
 743      =4  #define     DMA_M2M_RXAL            (*(unsigned char volatile xdata *)0xfa08)
 744      =4  
 745      =4  #define     DMA_ADC_CFG             (*(unsigned char volatile xdata *)0xfa10)
 746      =4  #define     DMA_ADC_CR              (*(unsigned char volatile xdata *)0xfa11)
 747      =4  #define     DMA_ADC_STA             (*(unsigned char volatile xdata *)0xfa12)
 748      =4  #define     DMA_ADC_RXA             (*(unsigned  int volatile xdata *)0xfa17)
 749      =4  #define     DMA_ADC_RXAH            (*(unsigned char volatile xdata *)0xfa17)
 750      =4  #define     DMA_ADC_RXAL            (*(unsigned char volatile xdata *)0xfa18)
 751      =4  #define     DMA_ADC_CFG2            (*(unsigned char volatile xdata *)0xfa19)
 752      =4  #define     DMA_ADC_CHSW0           (*(unsigned char volatile xdata *)0xfa1a)
 753      =4  #define     DMA_ADC_CHSW1           (*(unsigned char volatile xdata *)0xfa1b)
 754      =4  
 755      =4  #define     DMA_SPI_CFG             (*(unsigned char volatile xdata *)0xfa20)
 756      =4  #define     DMA_SPI_CR              (*(unsigned char volatile xdata *)0xfa21)
 757      =4  #define     DMA_SPI_STA             (*(unsigned char volatile xdata *)0xfa22)
 758      =4  #define     DMA_SPI_AMT             (*(unsigned char volatile xdata *)0xfa23)
 759      =4  #define     DMA_SPI_DONE            (*(unsigned char volatile xdata *)0xfa24)
 760      =4  #define     DMA_SPI_TXA             (*(unsigned  int volatile xdata *)0xfa25)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 15  

 761      =4  #define     DMA_SPI_TXAH            (*(unsigned char volatile xdata *)0xfa25)
 762      =4  #define     DMA_SPI_TXAL            (*(unsigned char volatile xdata *)0xfa26)
 763      =4  #define     DMA_SPI_RXA             (*(unsigned  int volatile xdata *)0xfa27)
 764      =4  #define     DMA_SPI_RXAH            (*(unsigned char volatile xdata *)0xfa27)
 765      =4  #define     DMA_SPI_RXAL            (*(unsigned char volatile xdata *)0xfa28)
 766      =4  #define     DMA_SPI_CFG2            (*(unsigned char volatile xdata *)0xfa29)
 767      =4  
 768      =4  #define     DMA_UR1T_CFG            (*(unsigned char volatile xdata *)0xfa30)
 769      =4  #define     DMA_UR1T_CR             (*(unsigned char volatile xdata *)0xfa31)
 770      =4  #define     DMA_UR1T_STA            (*(unsigned char volatile xdata *)0xfa32)
 771      =4  #define     DMA_UR1T_AMT            (*(unsigned char volatile xdata *)0xfa33)
 772      =4  #define     DMA_UR1T_DONE           (*(unsigned char volatile xdata *)0xfa34)
 773      =4  #define     DMA_UR1T_TXA            (*(unsigned  int volatile xdata *)0xfa35)
 774      =4  #define     DMA_UR1T_TXAH           (*(unsigned char volatile xdata *)0xfa35)
 775      =4  #define     DMA_UR1T_TXAL           (*(unsigned char volatile xdata *)0xfa36)
 776      =4  #define     DMA_UR1R_CFG            (*(unsigned char volatile xdata *)0xfa38)
 777      =4  #define     DMA_UR1R_CR             (*(unsigned char volatile xdata *)0xfa39)
 778      =4  #define     DMA_UR1R_STA            (*(unsigned char volatile xdata *)0xfa3a)
 779      =4  #define     DMA_UR1R_AMT            (*(unsigned char volatile xdata *)0xfa3b)
 780      =4  #define     DMA_UR1R_DONE           (*(unsigned char volatile xdata *)0xfa3c)
 781      =4  #define     DMA_UR1R_RXA            (*(unsigned  int volatile xdata *)0xfa3d)
 782      =4  #define     DMA_UR1R_RXAH           (*(unsigned char volatile xdata *)0xfa3d)
 783      =4  #define     DMA_UR1R_RXAL           (*(unsigned char volatile xdata *)0xfa3e)
 784      =4  
 785      =4  #define     DMA_UR2T_CFG            (*(unsigned char volatile xdata *)0xfa40)
 786      =4  #define     DMA_UR2T_CR             (*(unsigned char volatile xdata *)0xfa41)
 787      =4  #define     DMA_UR2T_STA            (*(unsigned char volatile xdata *)0xfa42)
 788      =4  #define     DMA_UR2T_AMT            (*(unsigned char volatile xdata *)0xfa43)
 789      =4  #define     DMA_UR2T_DONE           (*(unsigned char volatile xdata *)0xfa44)
 790      =4  #define     DMA_UR2T_TXA            (*(unsigned  int volatile xdata *)0xfa45)
 791      =4  #define     DMA_UR2T_TXAH           (*(unsigned char volatile xdata *)0xfa45)
 792      =4  #define     DMA_UR2T_TXAL           (*(unsigned char volatile xdata *)0xfa46)
 793      =4  #define     DMA_UR2R_CFG            (*(unsigned char volatile xdata *)0xfa48)
 794      =4  #define     DMA_UR2R_CR             (*(unsigned char volatile xdata *)0xfa49)
 795      =4  #define     DMA_UR2R_STA            (*(unsigned char volatile xdata *)0xfa4a)
 796      =4  #define     DMA_UR2R_AMT            (*(unsigned char volatile xdata *)0xfa4b)
 797      =4  #define     DMA_UR2R_DONE           (*(unsigned char volatile xdata *)0xfa4c)
 798      =4  #define     DMA_UR2R_RXA            (*(unsigned  int volatile xdata *)0xfa4d)
 799      =4  #define     DMA_UR2R_RXAH           (*(unsigned char volatile xdata *)0xfa4d)
 800      =4  #define     DMA_UR2R_RXAL           (*(unsigned char volatile xdata *)0xfa4e)
 801      =4  
 802      =4  #define     DMA_UR3T_CFG            (*(unsigned char volatile xdata *)0xfa50)
 803      =4  #define     DMA_UR3T_CR             (*(unsigned char volatile xdata *)0xfa51)
 804      =4  #define     DMA_UR3T_STA            (*(unsigned char volatile xdata *)0xfa52)
 805      =4  #define     DMA_UR3T_AMT            (*(unsigned char volatile xdata *)0xfa53)
 806      =4  #define     DMA_UR3T_DONE           (*(unsigned char volatile xdata *)0xfa54)
 807      =4  #define     DMA_UR3T_TXA            (*(unsigned  int volatile xdata *)0xfa55)
 808      =4  #define     DMA_UR3T_TXAH           (*(unsigned char volatile xdata *)0xfa55)
 809      =4  #define     DMA_UR3T_TXAL           (*(unsigned char volatile xdata *)0xfa56)
 810      =4  #define     DMA_UR3R_CFG            (*(unsigned char volatile xdata *)0xfa58)
 811      =4  #define     DMA_UR3R_CR             (*(unsigned char volatile xdata *)0xfa59)
 812      =4  #define     DMA_UR3R_STA            (*(unsigned char volatile xdata *)0xfa5a)
 813      =4  #define     DMA_UR3R_AMT            (*(unsigned char volatile xdata *)0xfa5b)
 814      =4  #define     DMA_UR3R_DONE           (*(unsigned char volatile xdata *)0xfa5c)
 815      =4  #define     DMA_UR3R_RXA            (*(unsigned  int volatile xdata *)0xfa5d)
 816      =4  #define     DMA_UR3R_RXAH           (*(unsigned char volatile xdata *)0xfa5d)
 817      =4  #define     DMA_UR3R_RXAL           (*(unsigned char volatile xdata *)0xfa5e)
 818      =4  
 819      =4  #define     DMA_UR4T_CFG            (*(unsigned char volatile xdata *)0xfa60)
 820      =4  #define     DMA_UR4T_CR             (*(unsigned char volatile xdata *)0xfa61)
 821      =4  #define     DMA_UR4T_STA            (*(unsigned char volatile xdata *)0xfa62)
 822      =4  #define     DMA_UR4T_AMT            (*(unsigned char volatile xdata *)0xfa63)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 16  

 823      =4  #define     DMA_UR4T_DONE           (*(unsigned char volatile xdata *)0xfa64)
 824      =4  #define     DMA_UR4T_TXA            (*(unsigned  int volatile xdata *)0xfa65)
 825      =4  #define     DMA_UR4T_TXAH           (*(unsigned char volatile xdata *)0xfa65)
 826      =4  #define     DMA_UR4T_TXAL           (*(unsigned char volatile xdata *)0xfa66)
 827      =4  #define     DMA_UR4R_CFG            (*(unsigned char volatile xdata *)0xfa68)
 828      =4  #define     DMA_UR4R_CR             (*(unsigned char volatile xdata *)0xfa69)
 829      =4  #define     DMA_UR4R_STA            (*(unsigned char volatile xdata *)0xfa6a)
 830      =4  #define     DMA_UR4R_AMT            (*(unsigned char volatile xdata *)0xfa6b)
 831      =4  #define     DMA_UR4R_DONE           (*(unsigned char volatile xdata *)0xfa6c)
 832      =4  #define     DMA_UR4R_RXA            (*(unsigned  int volatile xdata *)0xfa6d)
 833      =4  #define     DMA_UR4R_RXAH           (*(unsigned char volatile xdata *)0xfa6d)
 834      =4  #define     DMA_UR4R_RXAL           (*(unsigned char volatile xdata *)0xfa6e)
 835      =4  
 836      =4  #define     DMA_LCM_CFG             (*(unsigned char volatile xdata *)0xfa70)
 837      =4  #define     DMA_LCM_CR              (*(unsigned char volatile xdata *)0xfa71)
 838      =4  #define     DMA_LCM_STA             (*(unsigned char volatile xdata *)0xfa72)
 839      =4  #define     DMA_LCM_AMT             (*(unsigned char volatile xdata *)0xfa73)
 840      =4  #define     DMA_LCM_DONE            (*(unsigned char volatile xdata *)0xfa74)
 841      =4  #define     DMA_LCM_TXA             (*(unsigned  int volatile xdata *)0xfa75)
 842      =4  #define     DMA_LCM_TXAH            (*(unsigned char volatile xdata *)0xfa75)
 843      =4  #define     DMA_LCM_TXAL            (*(unsigned char volatile xdata *)0xfa76)
 844      =4  #define     DMA_LCM_RXA             (*(unsigned  int volatile xdata *)0xfa77)
 845      =4  #define     DMA_LCM_RXAH            (*(unsigned char volatile xdata *)0xfa77)
 846      =4  #define     DMA_LCM_RXAL            (*(unsigned char volatile xdata *)0xfa78)
 847      =4  
 848      =4  /////////////////////////////////////////////////
 849      =4  //USB Control Regiter
 850      =4  /////////////////////////////////////////////////
 851      =4  
 852      =4  //sfr       USBCLK      =           0xdc;
 853      =4  //sfr       USBDAT      =           0xec;
 854      =4  //sfr       USBCON      =           0xf4;
 855      =4  //sfr       USBADR      =           0xfc;
 856      =4  
 857      =4  //使用方法:
 858      =4  //      char dat;
 859      =4  //
 860      =4  //      READ_USB(CSR0, dat);        //读USB寄存器
 861      =4  //      WRITE_USB(FADDR, 0x00);     //写USB寄存器
 862      =4  
 863      =4  #define     READ_USB(reg, dat)          \
 864      =4              {                           \
 865      =4                  while (USBADR & 0x80);  \
 866      =4                  USBADR = (reg) | 0x80;  \
 867      =4                  while (USBADR & 0x80);  \
 868      =4                  (dat) = USBDAT;         \
 869      =4              }
 870      =4  
 871      =4  #define     WRITE_USB(reg, dat)         \
 872      =4              {                           \
 873      =4                  while (USBADR & 0x80);  \
 874      =4                  USBADR = (reg) & 0x7f;  \
 875      =4                  USBDAT = (dat);         \
 876      =4              }
 877      =4  
 878      =4  #define     USBBASE                 0
 879      =4  #define     FADDR                   (USBBASE + 0)
 880      =4  #define     UPDATE                  0x80
 881      =4  #define     POWER                   (USBBASE + 1)
 882      =4  #define     ISOUD                   0x80
 883      =4  #define     USBRST                  0x08
 884      =4  #define     USBRSU                  0x04
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 17  

 885      =4  #define     USBSUS                  0x02
 886      =4  #define     ENSUS                   0x01
 887      =4  #define     INTRIN1                 (USBBASE + 2)
 888      =4  #define     EP5INIF                 0x20
 889      =4  #define     EP4INIF                 0x10
 890      =4  #define     EP3INIF                 0x08
 891      =4  #define     EP2INIF                 0x04
 892      =4  #define     EP1INIF                 0x02
 893      =4  #define     EP0IF                   0x01
 894      =4  #define     INTROUT1                (USBBASE + 4)
 895      =4  #define     EP5OUTIF                0x20
 896      =4  #define     EP4OUTIF                0x10
 897      =4  #define     EP3OUTIF                0x08
 898      =4  #define     EP2OUTIF                0x04
 899      =4  #define     EP1OUTIF                0x02
 900      =4  #define     INTRUSB                 (USBBASE + 6)
 901      =4  #define     SOFIF                   0x08
 902      =4  #define     RSTIF                   0x04
 903      =4  #define     RSUIF                   0x02
 904      =4  #define     SUSIF                   0x01
 905      =4  #define     INTRIN1E                (USBBASE + 7)
 906      =4  #define     EP5INIE                 0x20
 907      =4  #define     EP4INIE                 0x10
 908      =4  #define     EP3INIE                 0x08
 909      =4  #define     EP2INIE                 0x04
 910      =4  #define     EP1INIE                 0x02
 911      =4  #define     EP0IE                   0x01
 912      =4  #define     INTROUT1E               (USBBASE + 9)
 913      =4  #define     EP5OUTIE                0x20
 914      =4  #define     EP4OUTIE                0x10
 915      =4  #define     EP3OUTIE                0x08
 916      =4  #define     EP2OUTIE                0x04
 917      =4  #define     EP1OUTIE                0x02
 918      =4  #define     INTRUSBE                (USBBASE + 11)
 919      =4  #define     SOFIE                   0x08
 920      =4  #define     RSTIE                   0x04
 921      =4  #define     RSUIE                   0x02
 922      =4  #define     SUSIE                   0x01
 923      =4  #define     FRAME1                  (USBBASE + 12)
 924      =4  #define     FRAME2                  (USBBASE + 13)
 925      =4  #define     INDEX                   (USBBASE + 14)
 926      =4  #define     INMAXP                  (USBBASE + 16)
 927      =4  #define     CSR0                    (USBBASE + 17)
 928      =4  #define     SSUEND                  0x80
 929      =4  #define     SOPRDY                  0x40
 930      =4  #define     SDSTL                   0x20
 931      =4  #define     SUEND                   0x10
 932      =4  #define     DATEND                  0x08
 933      =4  #define     STSTL                   0x04
 934      =4  #define     IPRDY                   0x02
 935      =4  #define     OPRDY                   0x01
 936      =4  #define     INCSR1                  (USBBASE + 17)
 937      =4  #define     INCLRDT                 0x40
 938      =4  #define     INSTSTL                 0x20
 939      =4  #define     INSDSTL                 0x10
 940      =4  #define     INFLUSH                 0x08
 941      =4  #define     INUNDRUN                0x04
 942      =4  #define     INFIFONE                0x02
 943      =4  #define     INIPRDY                 0x01
 944      =4  #define     INCSR2                  (USBBASE + 18)
 945      =4  #define     INAUTOSET               0x80
 946      =4  #define     INISO                   0x40
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 18  

 947      =4  #define     INMODEIN                0x20
 948      =4  #define     INMODEOUT               0x00
 949      =4  #define     INENDMA                 0x10
 950      =4  #define     INFCDT                  0x08
 951      =4  #define     OUTMAXP                 (USBBASE + 19)
 952      =4  #define     OUTCSR1                 (USBBASE + 20)
 953      =4  #define     OUTCLRDT                0x80
 954      =4  #define     OUTSTSTL                0x40
 955      =4  #define     OUTSDSTL                0x20
 956      =4  #define     OUTFLUSH                0x10
 957      =4  #define     OUTDATERR               0x08
 958      =4  #define     OUTOVRRUN               0x04
 959      =4  #define     OUTFIFOFUL              0x02
 960      =4  #define     OUTOPRDY                0x01
 961      =4  #define     OUTCSR2                 (USBBASE + 21)
 962      =4  #define     OUTAUTOCLR              0x80
 963      =4  #define     OUTISO                  0x40
 964      =4  #define     OUTENDMA                0x20
 965      =4  #define     OUTDMAMD                0x10
 966      =4  #define     COUNT0                  (USBBASE + 22)
 967      =4  #define     OUTCOUNT1               (USBBASE + 22)
 968      =4  #define     OUTCOUNT2               (USBBASE + 23)
 969      =4  #define     FIFO0                   (USBBASE + 32)
 970      =4  #define     FIFO1                   (USBBASE + 33)
 971      =4  #define     FIFO2                   (USBBASE + 34)
 972      =4  #define     FIFO3                   (USBBASE + 35)
 973      =4  #define     FIFO4                   (USBBASE + 36)
 974      =4  #define     FIFO5                   (USBBASE + 37)
 975      =4  #define     UTRKCTL                 (USBBASE + 48)
 976      =4  #define     UTRKSTS                 (USBBASE + 49)
 977      =4  
 978      =4  /////////////////////////////////////////////////
 979      =4  //Interrupt Vector
 980      =4  /////////////////////////////////////////////////
 981      =4  
 982      =4  #define     INT0_VECTOR             0       //0003H
 983      =4  #define     TMR0_VECTOR             1       //000BH
 984      =4  #define     INT1_VECTOR             2       //0013H
 985      =4  #define     TMR1_VECTOR             3       //001BH
 986      =4  #define     UART1_VECTOR            4       //0023H
 987      =4  #define     ADC_VECTOR              5       //002BH
 988      =4  #define     LVD_VECTOR              6       //0033H
 989      =4  #define     UART2_VECTOR            8       //0043H
 990      =4  #define     SPI_VECTOR              9       //004BH
 991      =4  #define     INT2_VECTOR             10      //0053H
 992      =4  #define     INT3_VECTOR             11      //005BH
 993      =4  #define     TMR2_VECTOR             12      //0063H
 994      =4  #define     USER_VECTOR             13      //006BH
 995      =4  #define     INT4_VECTOR             16      //0083H
 996      =4  #define     UART3_VECTOR            17      //008BH
 997      =4  #define     UART4_VECTOR            18      //0093H
 998      =4  #define     TMR3_VECTOR             19      //009BH
 999      =4  #define     TMR4_VECTOR             20      //00A3H
1000      =4  #define     CMP_VECTOR              21      //00ABH
1001      =4  #define     I2C_VECTOR              24      //00C3H
1002      =4  #define     USB_VECTOR              25      //00CBH
1003      =4  #define     PWMA_VECTOR             26      //00D3H
1004      =4  #define     PWMB_VECTOR             27      //00DBH
1005      =4  
1006      =4  #define     TKSU_VECTOR             35      //011BH
1007      =4  #define     RTC_VECTOR              36      //0123H
1008      =4  #define     P0INT_VECTOR            37      //012BH
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 19  

1009      =4  #define     P1INT_VECTOR            38      //0133H
1010      =4  #define     P2INT_VECTOR            39      //013BH
1011      =4  #define     P3INT_VECTOR            40      //0143H
1012      =4  #define     P4INT_VECTOR            41      //014BH
1013      =4  #define     P5INT_VECTOR            42      //0153H
1014      =4  #define     P6INT_VECTOR            43      //015BH
1015      =4  #define     P7INT_VECTOR            44      //0163H
1016      =4  #define     DMA_M2M_VECTOR          47      //017BH
1017      =4  #define     DMA_ADC_VECTOR          48      //0183H
1018      =4  #define     DMA_SPI_VECTOR          49      //018BH
1019      =4  #define     DMA_UR1T_VECTOR         50      //0193H
1020      =4  #define     DMA_UR1R_VECTOR         51      //019BH
1021      =4  #define     DMA_UR2T_VECTOR         52      //01A3H
1022      =4  #define     DMA_UR2R_VECTOR         53      //01ABH
1023      =4  #define     DMA_UR3T_VECTOR         54      //01B3H
1024      =4  #define     DMA_UR3R_VECTOR         55      //01BBH
1025      =4  #define     DMA_UR4T_VECTOR         56      //01C3H
1026      =4  #define     DMA_UR4R_VECTOR         57      //01CBH
1027      =4  #define     DMA_LCM_VECTOR          58      //01D3H
1028      =4  #define     LCM_VECTOR              59      //01DBH
1029      =4  
1030      =4  /////////////////////////////////////////////////
1031      =4  #define EAXSFR()    P_SW2 |= 0x80   /* MOVX A,@DPTR/MOVX @DPTR,A指令的操作对象为扩展SFR(XSFR) */
1032      =4  #define EAXRAM()    P_SW2 &= ~0x80    /* MOVX A,@DPTR/MOVX @DPTR,A指令的操作对象为扩展RAM(XRAM) */
1033      =4  
1034      =4  
1035      =4  /////////////////////////////////////////////////
1036      =4  #define NOP1()  _nop_()
1037      =4  #define NOP2()  NOP1(),NOP1()
1038      =4  #define NOP3()  NOP2(),NOP1()
1039      =4  #define NOP4()  NOP3(),NOP1()
1040      =4  #define NOP5()  NOP4(),NOP1()
1041      =4  #define NOP6()  NOP5(),NOP1()
1042      =4  #define NOP7()  NOP6(),NOP1()
1043      =4  #define NOP8()  NOP7(),NOP1()
1044      =4  #define NOP9()  NOP8(),NOP1()
1045      =4  #define NOP10() NOP9(),NOP1()
1046      =4  #define NOP11() NOP10(),NOP1()
1047      =4  #define NOP12() NOP11(),NOP1()
1048      =4  #define NOP13() NOP12(),NOP1()
1049      =4  #define NOP14() NOP13(),NOP1()
1050      =4  #define NOP15() NOP14(),NOP1()
1051      =4  #define NOP16() NOP15(),NOP1()
1052      =4  #define NOP17() NOP16(),NOP1()
1053      =4  #define NOP18() NOP17(),NOP1()
1054      =4  #define NOP19() NOP18(),NOP1()
1055      =4  #define NOP20() NOP19(),NOP1()
1056      =4  #define NOP21() NOP20(),NOP1()
1057      =4  #define NOP22() NOP21(),NOP1()
1058      =4  #define NOP23() NOP22(),NOP1()
1059      =4  #define NOP24() NOP23(),NOP1()
1060      =4  #define NOP25() NOP24(),NOP1()
1061      =4  #define NOP26() NOP25(),NOP1()
1062      =4  #define NOP27() NOP26(),NOP1()
1063      =4  #define NOP28() NOP27(),NOP1()
1064      =4  #define NOP29() NOP28(),NOP1()
1065      =4  #define NOP30() NOP29(),NOP1()
1066      =4  #define NOP31() NOP30(),NOP1()
1067      =4  #define NOP32() NOP31(),NOP1()
1068      =4  #define NOP33() NOP32(),NOP1()
1069      =4  #define NOP34() NOP33(),NOP1()
1070      =4  #define NOP35() NOP34(),NOP1()
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 20  

1071      =4  #define NOP36() NOP35(),NOP1()
1072      =4  #define NOP37() NOP36(),NOP1()
1073      =4  #define NOP38() NOP37(),NOP1()
1074      =4  #define NOP39() NOP38(),NOP1()
1075      =4  #define NOP40() NOP39(),NOP1()
1076      =4  #define NOP(N)  NOP##N()
1077      =4  
1078      =4  
1079      =4  /////////////////////////////////////////////////
1080      =4  
1081      =4  #endif
1082      =4  
  48      =3  #include<intrins.h>
   1      =4  /*--------------------------------------------------------------------------
   2      =4  INTRINS.H
   3      =4  
   4      =4  Intrinsic functions for C51.
   5      =4  Copyright (c) 1988-2010 Keil Elektronik GmbH and ARM Germany GmbH
   6      =4  All rights reserved.
   7      =4  --------------------------------------------------------------------------*/
   8      =4  
   9      =4  #ifndef __INTRINS_H__
  10      =4  #define __INTRINS_H__
  11      =4  
  12      =4  #pragma SAVE
  13      =4  
  14      =4  #if defined (__CX2__)
           =4 #pragma FUNCTIONS(STATIC)
           =4 /* intrinsic functions are reentrant, but need static attribute */
           =4 #endif
  18      =4  
  19      =4  extern void          _nop_     (void);
  20      =4  extern bit           _testbit_ (bit);
  21      =4  extern unsigned char _cror_    (unsigned char, unsigned char);
  22      =4  extern unsigned int  _iror_    (unsigned int,  unsigned char);
  23      =4  extern unsigned long _lror_    (unsigned long, unsigned char);
  24      =4  extern unsigned char _crol_    (unsigned char, unsigned char);
  25      =4  extern unsigned int  _irol_    (unsigned int,  unsigned char);
  26      =4  extern unsigned long _lrol_    (unsigned long, unsigned char);
  27      =4  extern unsigned char _chkfloat_(float);
  28      =4  #if defined (__CX2__)
           =4 extern int           abs       (int);
           =4 extern void          _illop_   (void);
           =4 #endif
  32      =4  #if !defined (__CX2__)
  33      =4  extern void          _push_    (unsigned char _sfr);
  34      =4  extern void          _pop_     (unsigned char _sfr);
  35      =4  #endif
  36      =4  
  37      =4  #pragma RESTORE
  38      =4  
  39      =4  #endif
  40      =4  
  49      =3  
  50      =3  #define u8 unsigned char
  51      =3  #define u16 unsigned int
  52      =3  #define s16 signed int
  53      =3  #define u32 unsigned long
  54      =3  #define s32 signed long
  55      =3  #define word_t u8
  56      =3  #define uint8_t u8
  57      =3  #define bool bit
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 21  

  58      =3  
  59      =3  /*////////////////////////////////////////////////////////////////////////////*/
  60      =3  #elif ARDUINO_ATMEAG328P
           =3 /*////////////////////////////////////////////////////////////////////////////*/
           =3 
           =3 #include <arduino.h>
           =3 
           =3 #define u8 unsigned char
           =3 #define u16 unsigned int
           =3 #define s16 signed int
           =3 #define u32 unsigned long
           =3 #define word_t u8
           =3 #define uint8_t u8
           =3 #define idata
           =3 #define xdata
           =3 #define code
           =3 
           =3 /*////////////////////////////////////////////////////////////////////////////*/
           =3 
           =3 #else
           =3   #error "board not defined!"
           =3 #endif
  80      =3  
  81      =3  /*////////////////////////////////////////////////////////////////////////////*/
  82      =3  
  83      =3  /******************************************************************************/
  84      =3  /*-DO NOT ADD YOUR CODE AFTER HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  85      =3  
  86      =3  #endif
  19      =2  #include "config.h"
   1      =3  /*
   2      =3  ********************************************************************************
   3      =3  *                             ---ofme---
   4      =3  *           Copyleft (c) 2021-2023, 寰椋灞辫胺 / ofourme@163.com
   5      =3  *           License: LGPL
   6      =3  *
   7      =3  *   CONFIG.H-V1.1.0 (2023.Oct.25th)
   8      =3  *
   9      =3  ********************************************************************************
  10      =3  */
  11      =3  
  12      =3  #ifndef __CONFIG_H__
  13      =3  #define __CONFIG_H__
  14      =3  
  15      =3  /*-DO NOT ADD YOUR CODE BEFORE HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  16      =3  /******************************************************************************/
  17      =3  
  18      =3  #include "hw.h"
   1      =4  /*
   2      =4  ********************************************************************************
   3      =4  *                             ---ofme---
   4      =4  *           Copyleft (c) 2021-2023, 寰椋灞辫胺 / ofourme@163.com
   5      =4  *           License: LGPL
   6      =4  *
   7      =4  *   HW.H-V1.0.0 (2023.Oct.25th)
   8      =4  *
   9      =4  ********************************************************************************
  10      =4  */
  11      =4  
  12      =4  #ifndef __HW_H__
           =4 #define __HW_H__
           =4 
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 22  

           =4 /*-DO NOT ADD YOUR CODE BEFORE HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
           =4 /******************************************************************************/
           =4 
           =4 #define STC_15W408AS    0
           =4 #define STC_15W408AS_SOP20  0
           =4 #define ARDUINO_ATMEAG328P  0
           =4 #define STC_8H        1
           =4 #define STC_8H_TSSOP20    1
           =4 
           =4 #define FOSC  12000000UL
           =4 
           =4 /*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
           =4 
           =4 /*////////////////////////////////////////////////////////////////////////////*/
           =4 #if STC_15W408AS
           =4 /*////////////////////////////////////////////////////////////////////////////*/
           =4 
           =4 #include "stc15w.h"
           =4 #include<intrins.h>
           =4 
           =4 #define u8 unsigned char
           =4 #define u16 unsigned int
           =4 #define s16 signed int
           =4 #define u32 unsigned long
           =4 #define word_t u8
           =4 #define uint8_t u8
           =4 #define bool bit
           =4   
           =4 /*////////////////////////////////////////////////////////////////////////////*/
           =4 #elif STC_8H
           =4 /*////////////////////////////////////////////////////////////////////////////*/
           =4 
           =4 #include "STC8H.h"
           =4 #include<intrins.h>
           =4 
           =4 #define u8 unsigned char
           =4 #define u16 unsigned int
           =4 #define s16 signed int
           =4 #define u32 unsigned long
           =4 #define s32 signed long
           =4 #define word_t u8
           =4 #define uint8_t u8
           =4 #define bool bit
           =4 
           =4 /*////////////////////////////////////////////////////////////////////////////*/
           =4 #elif ARDUINO_ATMEAG328P
           =4 /*////////////////////////////////////////////////////////////////////////////*/
           =4 
           =4 #include <arduino.h>
           =4 
           =4 #define u8 unsigned char
           =4 #define u16 unsigned int
           =4 #define s16 signed int
           =4 #define u32 unsigned long
           =4 #define word_t u8
           =4 #define uint8_t u8
           =4 #define idata
           =4 #define xdata
           =4 #define code
           =4 
           =4 /*////////////////////////////////////////////////////////////////////////////*/
           =4 
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 23  

           =4 #else
           =4   #error "board not defined!"
           =4 #endif
           =4 
           =4 /*////////////////////////////////////////////////////////////////////////////*/
           =4 
           =4 /******************************************************************************/
           =4 /*-DO NOT ADD YOUR CODE AFTER HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
           =4 
           =4 #endif
  19      =3  #include "loli3_pact.h"
   1      =4  /*
   2      =4  ********************************************************************************
   3      =4  *                             ---ofme---
   4      =4  *           Copyleft (c) 2008-2023, 寰椋灞辫胺/ofourme@163.com
   5      =4  *           License: LGPL
   6      =4  *
   7      =4  *   LOLI3_PACT.H-V1.1.0 (2023.Sep.18th)
   8      =4  *
   9      =4  ********************************************************************************
  10      =4  */
  11      =4  
  12      =4  #ifndef __LOLI3_PACT_H__
  13      =4  #define __LOLI3_PACT_H__
  14      =4  
  15      =4  /*-DO NOT ADD YOUR CODE BEFORE HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  16      =4  /******************************************************************************/
  17      =4  /*////////////////////////////////////////////////////////////////////////////*/
  18      =4  
  19      =4  //浣跨ㄢLOVE浣涓洪璁ゅ板
  20      =4  #define LOLI3_ADDRESS_STARTUP           'L','O','V','E','!'
  21      =4  #define LOLI3_NRF_DATA_LENGTH           11
  22      =4  
  23      =4  //浣跨33棰浣涓烘ユ舵洪杩CHANNEL
  24      =4  #define LOLI3_CHANNEL_STARTUP           33
  25      =4  //浣跨66棰浣涓烘ユ舵哄CHANNEL
  26      =4  #define LOLI3_CHANNEL_CONNECT           66
  27      =4  //璺抽CHANNEL伴
  28      =4  #define LOLI3_NUM_HOPPING               5
  29      =4  //榛璁ょㄤ璺抽5涓CHANNEL
  30      =4  #define LOLI3_HOPPING_STARTUP           10,35,60,85,110
  31      =4  
  32      =4  /*////////////////////////////////////////////////////////////////////////////*/
  33      =4  // update(20230918):
  34      =4  // 垫鸿ヨ瀹0.5~2.5ms锛ㄦ20ms锛妯¤垫轰浣跨ㄨ瀹1~2ms
  35      =4  // loli3ユ舵哄规ユ跺扮版浣*27/20=1.35杩绠锛宠瀹=0.811+CH*27/20
  36      =4  // 涓轰煎癸舵锛淇逛负*43(*43淇璇10浣CH间婧㈠16浣)跺崇Щ5
             -=*43/32=1.34375~=1.35锛
  37      =4  //     --> 朵慨规浣瀹戒负0.813浠ヤ涓浣1.5ms涓锛宠瀹=0.813+CH*43>>5
  38      =4  #define LOLI3_RECV_SERVO_RANGE_MUL      43
  39      =4  #define LOLI3_RECV_SERVO_RANGE_R_SHIFT  5
  40      =4  // loli3ユ舵烘锛褰pwm板煎浜涓瀹硷存ヨ0姝ゅ版楂1023璁剧疆
             -
  41      =4  #define LOLI3_RECV_PWM_MINNUM_DEFAULT   100
  42      =4  
  43      =4  /******************************************************************************/
  44      =4  /*-DO NOT ADD YOUR CODE AFTER HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  45      =4  
  46      =4  #endif
  20      =3  
  21      =3  /*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
  22      =3  
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 24  

  23      =3  // enable SBUS_DEBUG  would disable SBUS pin output
  24      =3  //#define SBUS_DEBUG
  25      =3  //----------------------------------------------------------------------------//
  26      =3  // Set the SBUS baud rate. UART always be SERIAL_8E2(8浣版锛舵￠锛2浣姝浣)
  27      =3  // Optional: SBUS_BPS_9600, SBUS_BPS_115200, SBUS_BPS_100K; Default: SBUS_BPS_100K.
  28      =3  //#define SBUS_BPS_115200
  29      =3  #define SBUS_BPS_100K
  30      =3  //----------------------------------------------------------------------------//
  31      =3  // 杞璇浠诲″跺ㄦヨ绮惧害锛榛璁3ms
  32      =3  #define LOLI3_RECV_TIMERS_TICK_SETPS 3
  33      =3  //----------------------------------------------------------------------------//
  34      =3  // LOLI3_RECV_PWM_MINNUM: LOLI3_RECV_PWM_MINNUM_DEFAULT would compatibility with loli3 original.
  35      =3  //                        0 would set the minimum if possible.  浣澶у藉艰存娉杈0.
  36      =3  #define LOLI3_RECV_PWM_MINNUM   LOLI3_RECV_PWM_MINNUM_DEFAULT
  37      =3  // #define LOLI3_RECV_PWM_MINNUM 0
  38      =3  //----------------------------------------------------------------------------//
  39      =3  // ㄥ垫甸诲惧ぇ帮姝ｅ父3
  40      =3  #define VOLTAGE_BAT_MULTIPLE 3
  41      =3  //----------------------------------------------------------------------------//
  42      =3  // 靛璋寸郴帮寰璋姝ょ郴颁互归涓
  43      =3  /*
  44      =3    BGV: ㄥ淇″锋靛ADC硷BGV5锛5VADC硷BGVx锛VCC靛惰浆㈢ADC
  45      =3    STC15W: ㄥ淇″锋靛哄浣涓纭瀹锛哄靛Va=BGV5/1024*5=BGVx/1024*VCC
  46      =3            --> VCC=BGV5/1024*5*1024/BGVx=BGV5*5/BGVx
  47      =3    STC8H:  ㄥ淇″锋靛哄(1.19v)锛 1.19v=BGV5/1024*5=BGVx/1024*VCC
  48      =3            --> VCC=BGV5/1024*5*1024/BGVx=BGV5*5/BGVx
  49      =3            朵腑BGV5=1.19*1024/5+0.5~=244
  50      =3  */
  51      =3  #if STC_15W408AS
           =3   #define BGV5  260
           =3 #elif STC_8H
  54      =3    #define BGV5  ((unsigned long)(1.19*1024/5+0.5))
  55      =3  #else
           =3   #err "BGV5 not defined."
           =3 #endif
  58      =3    // 姝ゅ5涓5V靛归锛浼杈靛版╁ぇ100浠ヤ灏扮瑰2浣锛杈adc
             -兼护娉㈠╁ぇ8锛涓虹涓浣*5*100*8
  59      =3  #define VOLTAGE_IC_ADJUST ((5ul*100*8)*BGV5)
  60      =3  //----------------------------------------------------------------------------//
  61      =3  
  62      =3  #ifdef SBUS_DEBUG
           =3   #define DBG(str) hw_uart_puts(str)
           =3 #else
  65      =3    #define DBG(str)
  66      =3  #endif
  67      =3  
  68      =3  /*////////////////////////////////////////////////////////////////////////////*/
  69      =3  #if STC_15W408AS
           =3 /*////////////////////////////////////////////////////////////////////////////*/
           =3 
           =3 #if STC_15W408AS_SOP20
           =3 //瀹涔绀虹
           =3 sbit LED=P1^0;
           =3 //瀹涔8涓杈
           =3 sbit CH1=P3^7;
           =3 sbit CH2=P3^6;
           =3 sbit CH3=P3^5;
           =3 sbit CH4=P3^4;
           =3 sbit CH5=P3^3;
           =3 sbit CH6=P3^2;
           =3 sbit CH7=P3^1;
           =3 sbit CH8=P3^0;
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 25  

           =3 
           =3 sbit CH9=P5^4;
           =3 sbit CH10=P5^5;
           =3 
           =3 //瀹涔绾挎ā绠¤
           =3 sbit CE  =P1^2;
           =3 sbit SCK =P1^4;
           =3 sbit MISO=P1^6;
           =3 sbit IRQ =P1^7;
           =3 sbit MOSI=P1^5;
           =3 sbit CSN =P1^3;
           =3 
           =3 #else
           =3 //瀹涔绀虹
           =3 sbit LED=P1^2;
           =3 //瀹涔8涓杈
           =3 sbit CH1=P3^7;
           =3 sbit CH2=P3^6;
           =3 sbit CH3=P3^5;
           =3 sbit CH4=P3^4;
           =3 sbit CH5=P3^3;
           =3 sbit CH6=P3^2;
           =3 sbit CH7=P3^1;
           =3 sbit CH8=P3^0;
           =3 //瀹涔绾挎ā绠¤
           =3 sbit CE  =P5^5;
           =3 sbit SCK =P5^4;
           =3 sbit MISO=P1^7;
           =3 sbit IRQ =P1^6;
           =3 sbit MOSI=P1^5;
           =3 sbit CSN =P1^4;
           =3 
           =3 #endif
           =3 
           =3 /*////////////////////////////////////*/
           =3 // 规纭浠跺垫′欢缂璇
           =3 // PIN_CH5/PIN_CH_OUTㄤ杈猴PIN_CH6/PIN_CH_INㄤ杈ャユ舵哄ㄦ跺妫娴CH5
             -CH6ワ伴瀵广
           =3 #define PIN_CH_OUT_P33
           =3 #define PIN_CH_IN_P32
           =3 // ㄥ垫靛妫娴寮P1.1
           =3 #define PIN_ADC_P1X 1
           =3 // EEPROM椤甸㈠ぇ灏
           =3 #define SIZE_STC_EEPROM_PAGE  512
           =3 #define SIZE_EEPROM_PAGE      SIZE_STC_EEPROM_PAGE
           =3 // 舵椹卞
           =3 #define LED_ON()  do{LED = 1;}while(0)
           =3 #define LED_OFF() do{LED = 0;}while(0)
           =3 
           =3 /*////////////////////////////////////*/
           =3 #define FUNC_MILLIS_EN  0
           =3 #define FUNC_MICROS_EN  1
           =3 #define FUNC_DELAY_EN   1
           =3 #define FUNC_DELAYMICROSECONDS_EN 0
           =3 
           =3 /*////////////////////////////////////////////////////////////////////////////*/
           =3 #elif STC_8H
 140      =3  /*////////////////////////////////////////////////////////////////////////////*/
 141      =3  
 142      =3  #if STC_8H_TSSOP20
 143      =3  
 144      =3  sbit LED=P1^2;
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 26  

 145      =3  
 146      =3  sbit CH1=P5^4;
 147      =3  sbit CH2=P1^7;
 148      =3  sbit CH3=P1^0;
 149      =3  sbit CH4=P3^7;
 150      =3  sbit CH5=P3^6;
 151      =3  sbit CH6=P3^4;
 152      =3  sbit CH7=P3^3;
 153      =3  sbit CH8=P3^0;
 154      =3  
 155      =3  sbit CHx=P3^1;
 156      =3  
 157      =3  sbit CE  =P3^2;
 158      =3  sbit SCK =P1^5;
 159      =3  sbit MISO=P1^4;
 160      =3  sbit IRQ =P1^6;
 161      =3  sbit MOSI=P1^3;
 162      =3  sbit CSN =P3^5;
 163      =3  
 164      =3  #else
           =3 #endif
 166      =3  
 167      =3  /*////////////////////////////////////*/
 168      =3  // 娆″涔VOLTAGE_BAT_MULTIPLE锛瑕㈢版
 169      =3  #if defined  VOLTAGE_BAT_MULTIPLE
 170      =3  #define VOLTAGE_BAT_MULTIPLE 4
*** WARNING C317 IN LINE 170 OF \git\loli3_receiver\loli3_recever\port\config.h: attempt to redefine macro 'VOLTAGE_BAT_
             -MULTIPLE'
 171      =3  #endif
 172      =3  #define PIN_CH_OUT_P37
 173      =3  #define PIN_CH_IN_P36
 174      =3  #define PIN_ADC_P1X 1
 175      =3  #define SIZE_STC_EEPROM_PAGE  512
 176      =3  #define SIZE_EEPROM_PAGE      SIZE_STC_EEPROM_PAGE
 177      =3  #define LED_ON()  do{LED = 1;}while(0)
 178      =3  #define LED_OFF() do{LED = 0;}while(0)
 179      =3  
 180      =3  /*////////////////////////////////////*/
 181      =3  #define FUNC_MILLIS_EN  0
 182      =3  #define FUNC_MICROS_EN  1
 183      =3  #define FUNC_DELAY_EN   1
 184      =3  #define FUNC_DELAYMICROSECONDS_EN 0
 185      =3  
 186      =3  /*////////////////////////////////////////////////////////////////////////////*/
 187      =3  #elif ARDUINO_ATMEAG328P
           =3 /*////////////////////////////////////////////////////////////////////////////*/
           =3 
           =3 #define DEF_SPI_SOFT
           =3 //瀹涔绀虹
           =3 #define LED 13
           =3 //瀹涔8涓杈
           =3 //瀹涔绾挎ā绠¤
           =3 #define IRQ   2
           =3 #define MISO  3
           =3 #define MOSI  4
           =3 #define SCK   5
           =3 #define CSN   6
           =3 #define CE    7
           =3 
           =3 /*////////////////////////////////////////////////////////////////////////////*/
           =3 #endif
 204      =3  /******************************************************************************/
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 27  

 205      =3  /*-DO NOT ADD YOUR CODE AFTER HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
 206      =3  
 207      =3  #endif
  20      =2  
  21      =2  /*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
  22      =2  
  23      =2  #define UART_BPS_100K 0
  24      =2  #define UART_BPS_9600 1
  25      =2  #define UART_BPS_115200 2
  26      =2  
  27      =2  /*////////////////////////////////////////////////////////////////////////////*/
  28      =2  
  29      =2  // 绯荤濮芥
  30      =2  void hw_sys_init();
  31      =2  //----------------------------------------------------------------------------//
  32      =2  // 虹藉芥
  33      =2  void hw_delay_1ms(void);
  34      =2  void hw_delay_ms(u8 ms);
  35      =2  //----------------------------------------------------------------------------//
  36      =2  // 绔ｅ濮杈ヨ哄芥
  37      =2  void hw_io_chs_init();
  38      =2  // CHｆㄦ借
  39      =2  void hw_io_chs_pushpull();
  40      =2    // 杈哄
  41      =2  void hw_io_cho_init();
  42      =2  void hw_io_cho_clr();
  43      =2  void hw_io_cho_set();
  44      =2    // 杈ュ
  45      =2  void hw_io_chi_init();
  46      =2  u8   hw_io_chi_get();
  47      =2  //----------------------------------------------------------------------------//
  48      =2  // 涓插ｅ濮杈哄芥
  49      =2  #define UART_BPS_100K 0
  50      =2  #define UART_BPS_9600 1
  51      =2  #define UART_BPS_115200 2
  52      =2  void hw_uart_init(u8 bps);      // bps[UART_BPS_100K, UART_BPS_9600, UART_BPS_115200]
  53      =2  void UART_pushByte(char c);     // push a byte into UART then return, not waitting for finished
  54      =2  void hw_uart_puts(const char* str);
  55      =2  //----------------------------------------------------------------------------//
  56      =2  // 靛ADC藉濮璇诲芥
  57      =2  void hw_adc_init();
  58      =2  void hw_adc_open(u8 i); // adc杞㈤锛灏adc_read绛寰堕淬//0锛ㄥ靛锛1
             -澶ㄧ靛
  59      =2  u16  hw_adc_read();     // ユ舵虹搴瀵ADC杩版10浣澶锛绉绘涓纭浠堕娉ㄦ淇
             -涓淬
  60      =2  //----------------------------------------------------------------------------//
  61      =2  // 绯荤蹇璺冲藉濮
  62      =2  void hw_tick_init();
  63      =2      //ㄧ郴缁ㄦт换★PCAу跺瀛锛PCA瀹跺锛娓や腑蹇锛
  64      =2      //void hw_tick_en() // #define hw_tick_en()     do{CCON =0x40;}while(0)
  65      =2  
  66      =2  //煎arduino堕村芥帮渚璧浜hw_tick_init()
  67      =2  #if FUNC_MILLIS_EN
           =2 u32  millis(void);
           =2 #endif
  70      =2  #if FUNC_MICROS_EN
  71      =2  u16  micros(void);
  72      =2  #endif
  73      =2  #if FUNC_DELAY_EN
  74      =2  void delay(u16 ms);
  75      =2  #endif
  76      =2  #if FUNC_DELAYMICROSECONDS_EN
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 28  

           =2 void delayMicroseconds(u16 us);
           =2 #endif
  79      =2  
  80      =2  //----------------------------------------------------------------------------//
  81      =2  // 甸杈/pwm杈哄藉濮浣胯
  82      =2  void hw_output_init();
  83      =2      //CH杈猴T0锛T0涓芥版у惰猴
  84      =2      //void hw_output_en();
  85      =2  //ch[0,7]瀵瑰[CH1,CH8]; STC15W瀹CH1&CH2锛STC8H瀹CH1&CH2&CH6&CH7
  86      =2  //pwm[0,255]
  87      =2  void hw_pwm_en (u8 ch);
  88      =2  void hw_pwm_dis(u8 ch);
  89      =2  void hw_pwm_set(u8 ch, u8 pwm);
  90      =2  //----------------------------------------------------------------------------//
  91      =2  // 舵浣芥
  92      =2  void LED_on(void);
  93      =2  void LED_off(void);
  94      =2  //----------------------------------------------------------------------------//
  95      =2  // 绯荤EEPROM藉芥
  96      =2  u8   EEPROM_read (u16 addr);
  97      =2  void EEPROM_write(u16 addr,u8 byte);
  98      =2  void EEPROM_cleanPage(u8 addPage);
  99      =2  #if 0
           =2 void EEPROM_begin();
           =2 void EEPROM_end();
           =2 void DATA_mutex_get();
           =2 void DATA_mutex_release();
           =2 #elif 0
           =2 #define EEPROM_begin()        do{IAP_CONTR=0x83;}while(0)
           =2 #define EEPROM_end()          do{IAP_CONTR=0x00;}while(0)
           =2 #define DATA_mutex_get()      do{EA = 0;}while(0)
           =2 #define DATA_mutex_release()  do{EA = 1;}while(0)
           =2 #endif
 110      =2  //----------------------------------------------------------------------------//
 111      =2  
 112      =2  // NRF24L01 SPI绔IO妯″濮
 113      =2  void SPI_init_0(void);
 114      =2  void SPI_init_1(void);
 115      =2  
 116      =2  /*////////////////////////////////////////////////////////////////////////////*/
 117      =2  #if STC_15W408AS
           =2 /*////////////////////////////////////////////////////////////////////////////*/
           =2 
           =2 // 24L01 IRQ 杈1琛ㄧず娌℃涓
           =2 #define noRF()          IRQ
           =2 #define SPI_MISO_GET()  MISO
           =2 // stc51 uart ｈ0灏瀵艰翠覆ｆ娉杈猴缃涓1淇璇涓插ｆｅ父宸ヤ
           =2 #define PIN_SBUS_SET()  CH7=1
           =2 #define PIN_PPM_SET()   CH1=1
           =2 #define PIN_PPM_CLR()   CH1=0
           =2 
           =2 #define hw_tick_en()          do{CCON =0x40;}while(0)
           =2 #define hw_output_en()        do{TR0=1;}while(0)
           =2 #define EEPROM_begin()        do{IAP_CONTR=0x83;}while(0)
           =2 #define EEPROM_end()          do{IAP_CONTR=0x00;}while(0)
           =2 //#define DATA_mutex_get()      do{EA = 0;}while(0)
           =2 //#define DATA_mutex_release()  do{EA = 1;}while(0)
           =2 //璁炬版浠T0涓涓琚浣跨锛ㄥ瀛版淇瑰浠绂姝T0涓涓绂姝㈡
             -涓锛垮浣跨ㄥ伴璇版
           =2 #define DATA_mutex_get()      do{ET0 = 0;}while(0)
           =2 #define DATA_mutex_release()  do{ET0 = 1;}while(0)
           =2 
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 29  

           =2 //----------------------------------------------------------------------------//
           =2 // port for stc15w
           =2 #define NSS CSN
           =2 #define SPI_SLAVE_EN()  do{NSS =0;}while(0)
           =2 #define SPI_SLAVE_DIS() do{NSS =1;}while(0)
           =2 #define SPI_SCK_SET()   do{SCK =1;}while(0)
           =2 #define SPI_SCK_CLR()   do{SCK =0;}while(0)
           =2 #define SPI_MOSI_SET()  do{MOSI=1;}while(0)
           =2 #define SPI_MOSI_CLR()  do{MOSI=0;}while(0)
           =2 
           =2 #define NRF_CE_SET()    do{CE = 1;}while(0)
           =2 #define NRF_CE_CLR()    do{CE = 0;}while(0)
           =2 
           =2 //----------------------------------------------------------------------------//
           =2 #define INTERRUPT_dis() do{EA = 0;}while(0)
           =2 #define INTERRUPT_en()  do{EA = 1;}while(0)
           =2 
           =2 /*////////////////////////////////////////////////////////////////////////////*/
           =2 #elif STC_8H
 157      =2  /*////////////////////////////////////////////////////////////////////////////*/
 158      =2  
 159      =2  #define noRF()                IRQ
 160      =2  #define SPI_MISO_GET()        MISO
 161      =2  #define PIN_SBUS_SET()        CHx=1
 162      =2  #define PIN_PPM_SET()         CHx=1
 163      =2  #define PIN_PPM_CLR()         CHx=0
 164      =2  // ㄥ跺T1
 165      =2  #define hw_tick_en()          do{TR1=1;}while(0)
 166      =2  #define hw_output_en()        do{TR0=1;}while(0)
 167      =2  // stc8h 涓 stc15w eeprom涓煎归瑕娉ㄦ
 168      =2  #define EEPROM_begin()        do{IAP_TPS=((FOSC+500000)/1000000);IAP_CONTR=0x80;}while(0)
 169      =2  #define EEPROM_end()          do{IAP_CONTR=0x00;}while(0)
 170      =2  #define DATA_mutex_get()      do{ET0 = 0;}while(0)
 171      =2  #define DATA_mutex_release()  do{ET0 = 1;}while(0)
 172      =2  #define NSS                   CSN
 173      =2  #define SPI_SLAVE_EN()        do{NSS =0;}while(0)
 174      =2  #define SPI_SLAVE_DIS()       do{NSS =1;}while(0)
 175      =2  #define SPI_SCK_SET()         do{SCK =1;}while(0)
 176      =2  #define SPI_SCK_CLR()         do{SCK =0;}while(0)
 177      =2  #define SPI_MOSI_SET()        do{MOSI=1;}while(0)
 178      =2  #define SPI_MOSI_CLR()        do{MOSI=0;}while(0)
 179      =2  #define NRF_CE_SET()          do{CE = 1;}while(0)
 180      =2  #define NRF_CE_CLR()          do{CE = 0;}while(0)
 181      =2  #define INTERRUPT_dis()       do{EA = 0;}while(0)
 182      =2  #define INTERRUPT_en()        do{EA = 1;}while(0)
 183      =2  
 184      =2  /*////////////////////////////////////////////////////////////////////////////*/
 185      =2  #elif ARDUINO_ATMEAG328P
           =2 /*////////////////////////////////////////////////////////////////////////////*/
           =2 
           =2 #define noRF()          digitalRead(IRQ)
           =2 //LED
           =2 #define LED_ON()        digitalWrite(LED, HIGH)
           =2 #define LED_OFF()       digitalWrite(LED, LOW)
           =2 
           =2 // port for arduino
           =2 //NRF24L01
           =2 #define SPI_SLAVE_EN()  digitalWrite(CSN, LOW)
           =2 #define SPI_SLAVE_DIS() digitalWrite(CSN, HIGH)
           =2 #define NRF_CE_SET()    digitalWrite(CE, HIGH)
           =2 #define NRF_CE_CLR()    digitalWrite(CE, LOW)
           =2 
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 30  

           =2 #ifdef DEF_SPI_SOFT
           =2 #define SPI_SCK_SET()   digitalWrite(SCK, HIGH)
           =2 #define SPI_SCK_CLR()   digitalWrite(SCK, LOW)
           =2 #define SPI_MOSI_SET()  digitalWrite(MOSI, HIGH)
           =2 #define SPI_MOSI_CLR()  digitalWrite(MOSI, LOW)
           =2 #define SPI_MISO_GET()  digitalRead(MISO)
           =2 #endif
           =2 
           =2 
           =2 #define EEPROM_begin()
           =2 #define EEPROM_end()
           =2 #define DATA_mutex_get()
           =2 #define DATA_mutex_release()
           =2 
           =2 #define SIZE_STC_EEPROM_PAGE  512
           =2 #define SIZE_EEPROM_PAGE      SIZE_STC_EEPROM_PAGE
           =2 
           =2 #define INTERRUPT_dis()
           =2 #define INTERRUPT_en()
           =2 /*////////////////////////////////////////////////////////////////////////////*/
           =2 #endif
 221      =2  /******************************************************************************/
 222      =2  /*-DO NOT ADD YOUR CODE AFTER HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
 223      =2  
 224      =2  #endif
  19      =1  #include "loli3_pact.h"
   1      =2  /*
   2      =2  ********************************************************************************
   3      =2  *                             ---ofme---
   4      =2  *           Copyleft (c) 2008-2023, 寰椋灞辫胺/ofourme@163.com
   5      =2  *           License: LGPL
   6      =2  *
   7      =2  *   LOLI3_PACT.H-V1.1.0 (2023.Sep.18th)
   8      =2  *
   9      =2  ********************************************************************************
  10      =2  */
  11      =2  
  12      =2  #ifndef __LOLI3_PACT_H__
           =2 #define __LOLI3_PACT_H__
           =2 
           =2 /*-DO NOT ADD YOUR CODE BEFORE HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
           =2 /******************************************************************************/
           =2 /*////////////////////////////////////////////////////////////////////////////*/
           =2 
           =2 //浣跨ㄢLOVE浣涓洪璁ゅ板
           =2 #define LOLI3_ADDRESS_STARTUP           'L','O','V','E','!'
           =2 #define LOLI3_NRF_DATA_LENGTH           11
           =2 
           =2 //浣跨33棰浣涓烘ユ舵洪杩CHANNEL
           =2 #define LOLI3_CHANNEL_STARTUP           33
           =2 //浣跨66棰浣涓烘ユ舵哄CHANNEL
           =2 #define LOLI3_CHANNEL_CONNECT           66
           =2 //璺抽CHANNEL伴
           =2 #define LOLI3_NUM_HOPPING               5
           =2 //榛璁ょㄤ璺抽5涓CHANNEL
           =2 #define LOLI3_HOPPING_STARTUP           10,35,60,85,110
           =2 
           =2 /*////////////////////////////////////////////////////////////////////////////*/
           =2 // update(20230918):
           =2 // 垫鸿ヨ瀹0.5~2.5ms锛ㄦ20ms锛妯¤垫轰浣跨ㄨ瀹1~2ms
           =2 // loli3ユ舵哄规ユ跺扮版浣*27/20=1.35杩绠锛宠瀹=0.811+CH*27/20
           =2 // 涓轰煎癸舵锛淇逛负*43(*43淇璇10浣CH间婧㈠16浣)跺崇Щ5
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 31  

             -=*43/32=1.34375~=1.35锛
           =2 //     --> 朵慨规浣瀹戒负0.813浠ヤ涓浣1.5ms涓锛宠瀹=0.813+CH*43>>5
           =2 #define LOLI3_RECV_SERVO_RANGE_MUL      43
           =2 #define LOLI3_RECV_SERVO_RANGE_R_SHIFT  5
           =2 // loli3ユ舵烘锛褰pwm板煎浜涓瀹硷存ヨ0姝ゅ版楂1023璁剧疆
             -
           =2 #define LOLI3_RECV_PWM_MINNUM_DEFAULT   100
           =2 
           =2 /******************************************************************************/
           =2 /*-DO NOT ADD YOUR CODE AFTER HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
           =2 
           =2 #endif
  20      =1  
  21      =1  /*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
  22      =1  
  23      =1  typedef struct
  24      =1  {
  25      =1    u8  isRuning;
  26      =1    u8  isTimeout;
  27      =1    u16 count;
  28      =1    u16 reload;
  29      =1    void (*callback)(void);
  30      =1  
  31      =1  } STimer;
  32      =1  
  33      =1  /*////////////////////////////////////////////////////////////////////////////*/
  34      =1  u8    EEPROM_test (void);
  35      =1  void  LED_flash(u8 t);
  36      =1  char* Int16ToStr(u16 i);
  37      =1  /*----------------------------------------------------------------------------*/
  38      =1  //NRF24L01虹芥
  39      =1  
  40      =1  void NRF_init(void);
  41      =1  
  42      =1  u8   NRF_REG_read(u8 address);
  43      =1  void NRF_REG_write(u8 address,u8 command);
  44      =1  void NRF_FIFO_write(u8 DATA_OUT[],u8 lengh);
  45      =1  void NRF_FIFO_read(u8 DATA_IN[],u8 lengh);
  46      =1  void NRF_addr_tx(u8 DATA_IN[]);
  47      =1  void NRF_addr_rx(u8 DATA_IN[]);
  48      =1  void NRF_mode_rx();
  49      =1  void NRF_mode_tx();
  50      =1  void NRF_power(u8 P);
  51      =1  void NRF_channel(u8 c);
  52      =1  void NRF_irq_clean(void);
  53      =1  void NRF_reset();
  54      =1  
  55      =1  #define NRF_BAD_CSNCLK  0x01
  56      =1  #define NRF_BAD_MOSI    0x02
  57      =1  #define NRF_BAD_CE      0x04
  58      =1  #define NRF_BAD_IRQ     0x08
  59      =1  #define NRF_BAD_MISO    0x10
  60      =1  #define NRF_BAD_RESET   0x80
  61      =1  u8      NRF_test();
  62      =1  
  63      =1  /*----------------------------------------------------------------------------*/
  64      =1  void timer_init(STimer* pTimers, u8 numTimers);
  65      =1  void timer_cbRegist(u8 index, void (*callback)(void));
  66      =1  void timer_startOnce(u8 index, u16 ms);
  67      =1  void timer_startTimes(u8 index, u16 ms, u8 times);
  68      =1  void timer_startCycle(u8 index, u16 ms);
  69      =1  void timer_tick();  // called by ISR
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 32  

  70      =1  void timer_process();
  71      =1  
  72      =1  /******************************************************************************/
  73      =1  /*-DO NOT ADD YOUR CODE AFTER HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
  74      =1  
  75      =1  #endif
  18          
  19          /*%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*/
  20          
  21          //涓插ｉ淇
  22          #if defined( SBUS_BPS_115200 )
                #define UART_BPS  UART_BPS_115200
              #elif defined ( SBUS_BPS_9600 )
                #define UART_BPS  UART_BPS_9600
              #else
  27            #define UART_BPS  UART_BPS_100K
  28          #endif
  29          
  30          /*////////////////////////////////////////////////////////////////////////////*/
  31          // soft SPI
  32          #define SPI_MODE_0    (0<<0)
  33          #define SPI_MODE_1    (1<<0)
  34          #define SPI_MODE_2    (2<<0)
  35          #define SPI_MODE_3    (3<<0)
  36          #define SPI_MSBFIRST  (0<<2)
  37          #define SPI_LSBFIRST  (1<<2)
  38          #define SPI_SPEED_SOF (0<<3)
  39          
  40          u8   SPI_begin(u8 setting);
  41          u8   SPI_transfer(u8 byte);
  42          void SPI_slaveEnable(void);
  43          void SPI_slaveDisable(void);
  44          
  45          u8 SPI_begin(u8 setting)
  46          {
  47   1        if(setting!=(SPI_MODE_0|SPI_MSBFIRST)) return 0;
  48   1      
  49   1        // set SCK/MOSI/NSS output mode, MISO input mode
  50   1        SPI_init_0();//绔ｆā寮濮
  51   1        // then set SCK/MOSI 0, set NNS 1.
  52   1        SPI_init_1();//杞浠or纭浠跺濮
  53   1      
  54   1        return 1;
  55   1      }
  56          
  57          u8 SPI_transfer(u8 byte)
  58          {
  59   1        u8 i;
  60   1        for(i=0;i<8;i++)
  61   1        {
  62   2          if(byte&0x80) SPI_MOSI_SET();
  63   2          else          SPI_MOSI_CLR();
  64   2          SPI_SCK_SET();
  65   2          byte<<=1;
  66   2          byte|=SPI_MISO_GET();
  67   2          SPI_SCK_CLR();
  68   2        }
  69   1        return byte;
  70   1      }
  71          
  72          void SPI_slaveEnable(void)
  73          {
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 33  

  74   1        SPI_SLAVE_EN();
  75   1      }
  76          
  77          void SPI_slaveDisable(void)
  78          {
  79   1        SPI_SLAVE_DIS();
  80   1      }
  81          
  82          /*
  83          void SPI_end(void)
  84          {
  85          
  86          }
  87          */
  88          
  89          /*////////////////////////////////////////////////////////////////////////////*/
  90          //NRF24L01
  91          u8 NRF_REG_read(u8 address)
  92          {
  93   1        u8 t;
  94   1        SPI_slaveEnable();
  95   1        SPI_transfer(0x00+address);
  96   1        t = SPI_transfer(0x00);
  97   1        SPI_slaveDisable();
  98   1      
  99   1        return t;
 100   1      }
 101          
 102          void NRF_REG_write(u8 address,u8 command)
 103          {
 104   1        SPI_slaveEnable();
 105   1        SPI_transfer(0x20+address);
 106   1        SPI_transfer(command);
 107   1        SPI_slaveDisable();
 108   1      }
 109          
 110          void NRF_init_0(void)
 111          {
 112   1        SPI_begin(0);
 113   1        NRF_CE_CLR();
 114   1        NRF_REG_write(0x00,0x0a); //CRC浣胯斤涓
 115   1        NRF_REG_write(0x01,0x00); //绂姝 ㄥ绛
 116   1        NRF_REG_write(0x02,0x01); //璁 P0淇￠
 117   1        NRF_REG_write(0x04,0x00); //绂姝 ㄩ
 118   1        NRF_CE_SET();
 119   1      }
 120          
 121          void NRF_FIFO_write(u8 DATA_OUT[],u8 lengh)
 122          {
 123   1        u8 i;
 124   1      
 125   1        SPI_slaveEnable();
 126   1        SPI_transfer(0xa0);
 127   1        for(i=0;i<lengh;i++) SPI_transfer(DATA_OUT[i]);
 128   1        SPI_slaveDisable();
 129   1      }
 130          
 131          void NRF_FIFO_read(u8 DATA_IN[],u8 lengh)
 132          {
 133   1        u8 i;
 134   1      
 135   1        SPI_slaveEnable();
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 34  

 136   1        SPI_transfer(0x61); //璇诲戒护
 137   1        for(i=0;i<lengh;i++) DATA_IN[i]=SPI_transfer(0);
 138   1        SPI_slaveDisable();
 139   1      }
 140          
 141          void NRF_addr_tx(u8 DATA_IN[])
 142          {
 143   1        SPI_slaveEnable();
 144   1        SPI_transfer(0x20+0x10);
 145   1        SPI_transfer(DATA_IN[0]);
 146   1        SPI_transfer(DATA_IN[1]);
 147   1        SPI_transfer(DATA_IN[2]);
 148   1        SPI_transfer(DATA_IN[3]);
 149   1        SPI_transfer(DATA_IN[4]);
 150   1        SPI_slaveDisable();
 151   1      }
 152          void NRF_addr_rx(u8 DATA_IN[])
 153          {
 154   1        SPI_slaveEnable();
 155   1        SPI_transfer(0x20+0x0a);
 156   1        SPI_transfer(DATA_IN[0]);
 157   1        SPI_transfer(DATA_IN[1]);
 158   1        SPI_transfer(DATA_IN[2]);
 159   1        SPI_transfer(DATA_IN[3]);
 160   1        SPI_transfer(DATA_IN[4]);
 161   1        SPI_slaveDisable();
 162   1      }
 163          void NRF_mode_rx()
 164          {
 165   1        NRF_CE_CLR();
 166   1        NRF_REG_write(0x00,0x3b); //CRC,8 bit,Power on,RX
 167   1        NRF_CE_SET();
 168   1      }
 169          
 170          void NRF_mode_tx()
 171          {
 172   1        NRF_CE_CLR();
 173   1        NRF_REG_write(0x00,0x0a);
 174   1        NRF_CE_SET();
 175   1      }
 176          
 177          void  NRF_power(u8 P)       //灏璁剧疆
 178          {
 179   1        NRF_CE_CLR();
 180   1        if(P>=3)     NRF_REG_write(0x06,0x27);    //0db 淇姝ｄ娉ㄩ璇
 181   1        else if(P==2)NRF_REG_write(0x06,0x25);    //-6db
 182   1        else if(P==1)NRF_REG_write(0x06,0x23);    //-12db
 183   1        else if(P==0)NRF_REG_write(0x06,0x21);    //-18db
 184   1        NRF_CE_SET();
 185   1      }
 186          
 187          void NRF_channel(u8 c)
 188          {
 189   1        NRF_CE_CLR();
 190   1        NRF_REG_write(0x05,c);
 191   1        NRF_CE_SET();
 192   1      }
 193          
 194          void NRF_irq_clean(void)
 195          {
 196   1          NRF_CE_CLR();
 197   1          NRF_REG_write(0x07,0x70); //娓ゆ绾挎ā锛澶辫触+瀹+版ュ锛涓淇″
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 35  

 198   1          NRF_CE_SET();
 199   1      }
 200          
 201          void NRF_data_length(u8 l)
 202          {
 203   1        NRF_CE_CLR();
 204   1        NRF_REG_write(0x11,l);
 205   1        NRF_CE_SET();
 206   1      }
 207          
 208          void NRF_init(void) //u8 ch,u8 address[])
 209          {
 210   1        NRF_init_0();
 211   1        NRF_mode_rx();
 212   1      //  NRF_channel(ch);
 213   1        NRF_power(0);
 214   1        NRF_data_length(LOLI3_NRF_DATA_LENGTH);
 215   1      //  NRF_addr_rx(address);
 216   1      //  NRF_addr_tx(address);
 217   1      }
 218          
 219          void NRF_reset()
 220          {
 221   1        NRF_init_0();
 222   1        NRF_irq_clean();
 223   1      
 224   1        SPI_slaveEnable();
 225   1        SPI_transfer(0xe1); // FLUSH_TX
 226   1        SPI_slaveDisable();
 227   1        SPI_slaveEnable();
 228   1        SPI_transfer(0xe2); // FLUSH_RX
 229   1        SPI_slaveDisable();
 230   1      }
 231          
 232          u8 NRF_test() //绾挎ā缁娴璇
 233          {
 234   1        u8 NRF_error = 0;
 235   1        u8 tx[1] = {'T'};
 236   1        u8 temp;
 237   1      
 238   1        NRF_CE_CLR();
 239   1      #if 1
 240   1        if(noRF()==0)         NRF_error |= NRF_BAD_IRQ;
 241   1      #endif
 242   1      
 243   1        // 涓24L01煎圭SI24R1涓ㄦ锋锛姣涓娆 SPI 浣锛MISO 杈虹绗涓瀛
             -涓虹舵瀵瀛ㄧ硷涔杩戒护ョ‘瀹杈哄(涓杈轰负楂绘)
 244   1        SPI_slaveEnable();
 245   1        if((temp=SPI_transfer(0x20))!=0x0e){// 舵瀵瀛RX FIFO涓涓虹┖锛璇存妯″娌℃
 246   2          NRF_error |= NRF_BAD_RESET;
 247   2        }
 248   1        SPI_transfer(0x0a); // 灏0x0aラ缃瀵瀛
 249   1        SPI_slaveDisable();
 250   1      
 251   1        SPI_slaveEnable();
 252   1        SPI_transfer(0x00);
 253   1        if(SPI_transfer(0x00)!=0x0a){NRF_error|=NRF_BAD_MOSI;}//MOSI bad
 254   1        SPI_slaveDisable();
 255   1      
 256   1        NRF_REG_write(0x01,0x00);
 257   1        NRF_REG_write(0x04,0x00);
 258   1        NRF_REG_write(0x11,1);
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 36  

 259   1        NRF_FIFO_write(tx,1);
 260   1        NRF_CE_SET(); // ㄥ
 261   1        delay(2);     // 绛寰瀹姣
 262   1        SPI_slaveEnable();
 263   1        if(SPI_transfer(0x00)!=0x2e){NRF_error|=NRF_BAD_CE+NRF_BAD_MISO;}//舵瀵瀛ㄦ病灏瀹涓
             -锛璇存CE bad
 264   1        SPI_slaveDisable();
 265   1      
 266   1        if(noRF()) NRF_error|=NRF_BAD_IRQ;
 267   1      
 268   1        if(NRF_error && NRF_error!=NRF_BAD_RESET) NRF_error|=NRF_BAD_CSNCLK;//CSN,CLK bad
 269   1      
 270   1        NRF_irq_clean();
 271   1        //NRF_CE_SET();
 272   1      
 273   1        return NRF_error;
 274   1      }
 275          
 276          /*////////////////////////////////////////////////////////////////////////////*/
 277          
 278          u8 EEPROM_test(void)
 279          {
 280   1        u8 addrPage = 1;
 281   1      
 282   1        EEPROM_begin();
 283   1      
 284   1        EEPROM_cleanPage(addrPage);
 285   1        EEPROM_write(SIZE_EEPROM_PAGE*addrPage,0xAA);
 286   1        if(EEPROM_read(SIZE_EEPROM_PAGE*addrPage)!=0xAA)  {EEPROM_end();  return 1; }//err
 287   1        EEPROM_cleanPage(addrPage);
 288   1        EEPROM_write(SIZE_EEPROM_PAGE*addrPage,0x55);
 289   1        if(EEPROM_read(SIZE_EEPROM_PAGE*addrPage)!=0x55)  {EEPROM_end();  return 1; }//err
 290   1      
 291   1        EEPROM_end(); // bugfix(20230924): add in
 292   1        
 293   1        return 0; //ok
 294   1      }
 295          
 296          /*----------------------------------------------------------------------------*/
 297          
 298          void LED_flash(u8 t)
 299          {
 300   1        while(t)
 301   1        {
 302   2          LED_ON();
 303   2          delay(10);
 304   2          LED_OFF();
 305   2          delay(90);
 306   2          t--;
 307   2        }
 308   1      }
 309          
 310          /*----------------------------------------------------------------------------*/
 311          
 312          char* Int16ToStr(u16 i)
 313          {
 314   1        u8 t;
 315   1        static xdata char str[7];
 316   1      
 317   1        str[0] = '0';
 318   1        str[1] = 'x';
 319   1        t=i>>12;
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 37  

 320   1        if(t<10) str[2]=(t+'0');
 321   1        else     str[2]=(t+'A'-10);
 322   1        t=(i>>8)&0x0F;
 323   1        if(t<10) str[3]=(t+'0');
 324   1        else     str[3]=(t+'A'-10);
 325   1        t=(i>>4)&0x0F;
 326   1        if(t<10) str[4]=(t+'0');
 327   1        else     str[4]=(t+'A'-10);
 328   1        t=(i>>0)&0x0F;
 329   1        if(t<10) str[5]=(t+'0');
 330   1        else     str[5]=(t+'A'-10);
 331   1        str[6] = '\0';
 332   1      
 333   1        return str;
 334   1      }
 335          
 336          /*////////////////////////////////////////////////////////////////////////////*/
 337          
 338          static STimer* _pTimers;
 339          static u8 _numTimers=0;
 340          
 341          void timer_init(STimer* pTimers, u8 numTimers)
 342          {
 343   1        u8 i;
 344   1      
 345   1        _pTimers = pTimers;
 346   1        _numTimers = numTimers;
 347   1      
 348   1        for(i=0; i<_numTimers; i++) // stop all the timers to prevent exception
 349   1        {
 350   2          _pTimers[i].isRuning  = 0;    // prevent timers change by <timers_tick>
 351   2          _pTimers[i].isTimeout = 0;    // prevent timers call by <timers_process>
 352   2          _pTimers[i].count      = 0;
 353   2          _pTimers[i].reload   = 0;
 354   2          _pTimers[i].callback  = 0;
 355   2        }
 356   1      }
 357          
 358          void timer_cbRegist(u8 index, void (*callback)(void))
 359          {
 360   1      /*
 361   1        _pTimers[index].isRuning = 0;
 362   1        _pTimers[index].isTimeout = 0;
 363   1        _pTimers[index].count = 0;
 364   1        _pTimers[index].reload = 0;
 365   1      */
 366   1        _pTimers[index].callback = callback;
 367   1      }
 368          
 369          void timer_startOnce(u8 index, u16 ms)
 370          {
 371   1        _pTimers[index].isRuning = 0; // stop the timer to prevent exception
 372   1        _pTimers[index].isTimeout = 0;
 373   1        _pTimers[index].count = ms;
 374   1        _pTimers[index].reload = 0;
 375   1        _pTimers[index].isRuning = 1; // start the timer
 376   1      }
 377          
 378          void timer_startTimes(u8 index, u16 ms, u8 times)
 379          {
 380   1        _pTimers[index].isRuning = 0; // stop the timer to prevent exception
 381   1        _pTimers[index].isTimeout = 0;
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 38  

 382   1        _pTimers[index].count = _pTimers[index].reload = ms;
 383   1        _pTimers[index].isRuning = times; // start the timer
 384   1      }
 385          
 386          void timer_startCycle(u8 index, u16 ms)
 387          {
 388   1        timer_startTimes(index, ms, 0xff);
 389   1      }
 390          
 391          void timer_tick() // called by ISR
 392          {
 393   1        static u8 step=0;
 394   1        u8 i;
 395   1      
 396   1        step++;
 397   1        if(step < LOLI3_RECV_TIMERS_TICK_SETPS) return;
 398   1        step = 0;
 399   1      
 400   1        for(i=0;i<_numTimers;i++)
 401   1        {
 402   2          if(_pTimers[i].isRuning)
 403   2          {
 404   3            if(_pTimers[i].count>LOLI3_RECV_TIMERS_TICK_SETPS) _pTimers[i].count -= LOLI3_RECV_TIMERS_TICK_SETPS;
 405   3            else
 406   3            {
 407   4              _pTimers[i].count = _pTimers[i].reload;
 408   4              if(_pTimers[i].isRuning != 0xFF) _pTimers[i].isRuning--;
 409   4              if(_pTimers[i].reload==0) _pTimers[i].isRuning = 0;
 410   4              _pTimers[i].isTimeout = 1;
 411   4            }
 412   3          }
 413   2        }
 414   1      }
 415          
 416          void timer_process()
 417          {
 418   1        u8 i;
 419   1      
 420   1        for(i=0;i<_numTimers;i++)
 421   1        {
 422   2          if(_pTimers[i].isTimeout)
 423   2          {
 424   3            _pTimers[i].isTimeout = 0;
 425   3            if(_pTimers[i].callback) _pTimers[i].callback();
 426   3          }
 427   2        }
 428   1      
 429   1      }
 430          
 431          /******************************************************************************/
 432          /*-DO NOT ADD YOUR CODE AFTER HERE!-*\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\-WIDTH: 80-*/
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 39  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _SPI_begin (BEGIN)
                                           ; SOURCE LINE # 45
;---- Variable 'setting' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 46
                                           ; SOURCE LINE # 47
0000 EF                MOV     A,R7
0001 6003              JZ      ?C0001
0003 7F00              MOV     R7,#00H
0005 22                RET     
0006         ?C0001:
                                           ; SOURCE LINE # 50
0006 120000      E     LCALL   SPI_init_0
                                           ; SOURCE LINE # 52
0009 120000      E     LCALL   SPI_init_1
                                           ; SOURCE LINE # 54
000C 7F01              MOV     R7,#01H
                                           ; SOURCE LINE # 55
000E         ?C0002:
000E 22                RET     
             ; FUNCTION _SPI_begin (END)

             ; FUNCTION L?0176 (BEGIN)
0000 120000      R     LCALL   _SPI_transfer
0003 120000      E     LCALL   ?C?CLDPTR
0006 FF                MOV     R7,A
0007 120000      R     LCALL   _SPI_transfer
000A 900001            MOV     DPTR,#01H
000D 120000      E     LCALL   ?C?CLDOPTR
0010 FF                MOV     R7,A
0011 120000      R     LCALL   _SPI_transfer
0014 900002            MOV     DPTR,#02H
0017 120000      E     LCALL   ?C?CLDOPTR
001A FF                MOV     R7,A
001B 120000      R     LCALL   _SPI_transfer
001E 900003            MOV     DPTR,#03H
0021 120000      E     LCALL   ?C?CLDOPTR
0024 FF                MOV     R7,A
0025 120000      R     LCALL   _SPI_transfer
0028 900004            MOV     DPTR,#04H
002B         L?0177:
002B 120000      E     LCALL   ?C?CLDOPTR
002E FF                MOV     R7,A
             ; FUNCTION _SPI_transfer (BEGIN)
                                           ; SOURCE LINE # 57
;---- Variable 'byte' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 58
                                           ; SOURCE LINE # 60
;---- Variable 'i' assigned to Register 'R6' ----
002F E4                CLR     A
0030 FE                MOV     R6,A
0031         ?C0003:
0031 EE                MOV     A,R6
0032 C3                CLR     C
0033 9408              SUBB    A,#08H
0035 7480              MOV     A,#080H
0037 9480              SUBB    A,#080H
0039 501B              JNC     ?C0004
                                           ; SOURCE LINE # 61
                                           ; SOURCE LINE # 62
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 40  

003B EF                MOV     A,R7
003C 30E704            JNB     ACC.7,?C0013
003F D293              SETB    MOSI
0041 8002              SJMP    ?C0016
0043         ?C0013:
                                           ; SOURCE LINE # 63
0043 C293              CLR     MOSI
0045         ?C0016:
                                           ; SOURCE LINE # 64
0045 D295              SETB    SCK
                                           ; SOURCE LINE # 65
0047 EF                MOV     A,R7
0048 25E0              ADD     A,ACC
004A FF                MOV     R7,A
                                           ; SOURCE LINE # 66
004B A294              MOV     C,MISO
004D E4                CLR     A
004E 33                RLC     A
004F 4207              ORL     AR7,A
                                           ; SOURCE LINE # 67
0051 C295              CLR     SCK
                                           ; SOURCE LINE # 68
0053 0E                INC     R6
0054 80DB              SJMP    ?C0003
0056         ?C0004:
                                           ; SOURCE LINE # 69
                                           ; SOURCE LINE # 70
0056 22                RET     
             ; FUNCTION _SPI_transfer (END)

             ; FUNCTION L?0179 (BEGIN)
0000 120000      R     LCALL   _SPI_transfer
0003 120000      R     LCALL   SPI_slaveDisable
             ; FUNCTION SPI_slaveEnable (BEGIN)
                                           ; SOURCE LINE # 72
                                           ; SOURCE LINE # 73
                                           ; SOURCE LINE # 74
0006 C2B5              CLR     CSN
                                           ; SOURCE LINE # 75
0008 22                RET     
             ; FUNCTION SPI_slaveEnable (END)

             ; FUNCTION SPI_slaveDisable (BEGIN)
                                           ; SOURCE LINE # 77
                                           ; SOURCE LINE # 78
                                           ; SOURCE LINE # 79
0000 D2B5              SETB    CSN
                                           ; SOURCE LINE # 80
0002 22                RET     
             ; FUNCTION SPI_slaveDisable (END)

             ; FUNCTION _NRF_REG_read (BEGIN)
                                           ; SOURCE LINE # 91
;---- Variable 'address' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 92
                                           ; SOURCE LINE # 94
0000 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 95
0003 120000      R     LCALL   _SPI_transfer
                                           ; SOURCE LINE # 96
0006 E4                CLR     A
0007 FF                MOV     R7,A
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 41  

0008 120000      R     LCALL   _SPI_transfer
;---- Variable 't' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 97
000B 020000      R     LJMP    SPI_slaveDisable
             ; FUNCTION _NRF_REG_read (END)

             ; FUNCTION L?0178 (BEGIN)
0000 C2B2              CLR     CE
0002 7D0A              MOV     R5,#0AH
0004 E4                CLR     A
0005 FF                MOV     R7,A
             ; FUNCTION _NRF_REG_write (BEGIN)
                                           ; SOURCE LINE # 102
;---- Variable 'command' assigned to Register 'R5' ----
;---- Variable 'address' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 103
                                           ; SOURCE LINE # 104
0006 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 105
0009 EF                MOV     A,R7
000A 2420              ADD     A,#020H
000C FF                MOV     R7,A
000D 120000      R     LCALL   _SPI_transfer
                                           ; SOURCE LINE # 106
0010 AF05              MOV     R7,AR5
0012 120000      R     LCALL   _SPI_transfer
                                           ; SOURCE LINE # 107
0015 020000      R     LJMP    SPI_slaveDisable
             ; FUNCTION _NRF_REG_write (END)

             ; FUNCTION NRF_init_0 (BEGIN)
                                           ; SOURCE LINE # 110
                                           ; SOURCE LINE # 111
                                           ; SOURCE LINE # 112
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 120000      R     LCALL   _SPI_begin
                                           ; SOURCE LINE # 113
                                           ; SOURCE LINE # 114
0005 120000      R     LCALL   L?0178
                                           ; SOURCE LINE # 115
0008 E4                CLR     A
0009 FD                MOV     R5,A
000A 7F01              MOV     R7,#01H
000C 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 116
000F 0D                INC     R5
0010 7F02              MOV     R7,#02H
0012 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 117
0015 1D                DEC     R5
0016 7F04              MOV     R7,#04H
0018 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 118
001B D2B2              SETB    CE
                                           ; SOURCE LINE # 119
001D 22                RET     
             ; FUNCTION NRF_init_0 (END)

             ; FUNCTION _NRF_FIFO_write (BEGIN)
                                           ; SOURCE LINE # 121
0000 8B00        R     MOV     DATA_OUT,R3
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 42  

0002 8A00        R     MOV     DATA_OUT+01H,R2
0004 8900        R     MOV     DATA_OUT+02H,R1
;---- Variable 'lengh' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 122
                                           ; SOURCE LINE # 125
0006 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 126
0009 7FA0              MOV     R7,#0A0H
000B 120000      R     LCALL   _SPI_transfer
                                           ; SOURCE LINE # 127
;---- Variable 'i' assigned to Register 'R4' ----
000E E4                CLR     A
000F FC                MOV     R4,A
0010         ?C0038:
0010 EC                MOV     A,R4
0011 C3                CLR     C
0012 9D                SUBB    A,R5
0013 5011              JNC     ?C0039
0015 AB00        R     MOV     R3,DATA_OUT
0017 AA00        R     MOV     R2,DATA_OUT+01H
0019 A900        R     MOV     R1,DATA_OUT+02H
001B 8C82              MOV     DPL,R4
001D 758300            MOV     DPH,#00H
0020 120000      R     LCALL   L?0177
0023 0C                INC     R4
0024 80EA              SJMP    ?C0038
0026         ?C0039:
                                           ; SOURCE LINE # 128
0026 020000      R     LJMP    SPI_slaveDisable
             ; FUNCTION _NRF_FIFO_write (END)

             ; FUNCTION _NRF_FIFO_read (BEGIN)
                                           ; SOURCE LINE # 131
0000 8B00        R     MOV     DATA_IN,R3
0002 8A00        R     MOV     DATA_IN+01H,R2
0004 8900        R     MOV     DATA_IN+02H,R1
;---- Variable 'lengh' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 132
                                           ; SOURCE LINE # 135
0006 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 136
0009 7F61              MOV     R7,#061H
000B 120000      R     LCALL   _SPI_transfer
                                           ; SOURCE LINE # 137
;---- Variable 'i' assigned to Register 'R4' ----
000E E4                CLR     A
000F FC                MOV     R4,A
0010         ?C0042:
0010 EC                MOV     A,R4
0011 C3                CLR     C
0012 9D                SUBB    A,R5
0013 5017              JNC     ?C0043
0015 E4                CLR     A
0016 FF                MOV     R7,A
0017 120000      R     LCALL   _SPI_transfer
001A AB00        R     MOV     R3,DATA_IN
001C AA00        R     MOV     R2,DATA_IN+01H
001E A900        R     MOV     R1,DATA_IN+02H
0020 8C82              MOV     DPL,R4
0022 758300            MOV     DPH,#00H
0025 EF                MOV     A,R7
0026 120000      E     LCALL   ?C?CSTOPTR
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 43  

0029 0C                INC     R4
002A 80E4              SJMP    ?C0042
002C         ?C0043:
                                           ; SOURCE LINE # 138
002C 020000      R     LJMP    SPI_slaveDisable
             ; FUNCTION _NRF_FIFO_read (END)

             ; FUNCTION _NRF_addr_tx (BEGIN)
                                           ; SOURCE LINE # 141
;---- Variable 'DATA_IN' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 142
                                           ; SOURCE LINE # 143
0000 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 144
0003 7F30              MOV     R7,#030H
                                           ; SOURCE LINE # 145
                                           ; SOURCE LINE # 146
                                           ; SOURCE LINE # 147
                                           ; SOURCE LINE # 148
                                           ; SOURCE LINE # 149
0005 120000      R     LCALL   L?0176
                                           ; SOURCE LINE # 150
0008 020000      R     LJMP    SPI_slaveDisable
             ; FUNCTION _NRF_addr_tx (END)

             ; FUNCTION _NRF_addr_rx (BEGIN)
                                           ; SOURCE LINE # 152
;---- Variable 'DATA_IN' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 153
                                           ; SOURCE LINE # 154
0000 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 155
0003 7F2A              MOV     R7,#02AH
                                           ; SOURCE LINE # 156
                                           ; SOURCE LINE # 157
                                           ; SOURCE LINE # 158
                                           ; SOURCE LINE # 159
                                           ; SOURCE LINE # 160
0005 120000      R     LCALL   L?0176
                                           ; SOURCE LINE # 161
0008 020000      R     LJMP    SPI_slaveDisable
             ; FUNCTION _NRF_addr_rx (END)

             ; FUNCTION NRF_mode_rx (BEGIN)
                                           ; SOURCE LINE # 163
                                           ; SOURCE LINE # 164
                                           ; SOURCE LINE # 165
0000 C2B2              CLR     CE
                                           ; SOURCE LINE # 166
0002 7D3B              MOV     R5,#03BH
0004 E4                CLR     A
0005 FF                MOV     R7,A
0006 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 167
0009 D2B2              SETB    CE
                                           ; SOURCE LINE # 168
000B 22                RET     
             ; FUNCTION NRF_mode_rx (END)

             ; FUNCTION NRF_mode_tx (BEGIN)
                                           ; SOURCE LINE # 170
                                           ; SOURCE LINE # 171
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 44  

                                           ; SOURCE LINE # 172
                                           ; SOURCE LINE # 173
0000 120000      R     LCALL   L?0178
                                           ; SOURCE LINE # 174
0003 D2B2              SETB    CE
                                           ; SOURCE LINE # 175
0005 22                RET     
             ; FUNCTION NRF_mode_tx (END)

             ; FUNCTION _NRF_power (BEGIN)
                                           ; SOURCE LINE # 177
;---- Variable 'P' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 178
                                           ; SOURCE LINE # 179
0000 C2B2              CLR     CE
                                           ; SOURCE LINE # 180
0002 EF                MOV     A,R7
0003 FB                MOV     R3,A
0004 7A00              MOV     R2,#00H
0006 C3                CLR     C
0007 9403              SUBB    A,#03H
0009 7480              MOV     A,#080H
000B 9480              SUBB    A,#080H
000D 4004              JC      ?C0065
000F 7D27              MOV     R5,#027H
0011 801C              SJMP    ?C0171
0013         ?C0065:
                                           ; SOURCE LINE # 181
0013 EB                MOV     A,R3
0014 6402              XRL     A,#02H
0016 4A                ORL     A,R2
0017 7004              JNZ     ?C0067
0019 7D25              MOV     R5,#025H
001B         ?C0169:
001B 8012              SJMP    ?C0171
001D         ?C0067:
                                           ; SOURCE LINE # 182
001D EF                MOV     A,R7
001E FB                MOV     R3,A
001F 7A00              MOV     R2,#00H
0021 6401              XRL     A,#01H
0023 7004              JNZ     ?C0069
0025 7D23              MOV     R5,#023H
0027         ?C0170:
0027 8006              SJMP    ?C0171
0029         ?C0069:
                                           ; SOURCE LINE # 183
0029 EB                MOV     A,R3
002A 4A                ORL     A,R2
002B 7007              JNZ     ?C0074
002D 7D21              MOV     R5,#021H
002F         ?C0171:
002F 7F06              MOV     R7,#06H
0031 120000      R     LCALL   _NRF_REG_write
0034         ?C0074:
                                           ; SOURCE LINE # 184
0034 D2B2              SETB    CE
                                           ; SOURCE LINE # 185
0036 22                RET     
             ; FUNCTION _NRF_power (END)

             ; FUNCTION _NRF_channel (BEGIN)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 45  

                                           ; SOURCE LINE # 187
;---- Variable 'c' assigned to Register 'R5' ----
0000 AD07              MOV     R5,AR7
                                           ; SOURCE LINE # 188
                                           ; SOURCE LINE # 189
0002 C2B2              CLR     CE
                                           ; SOURCE LINE # 190
0004 7F05              MOV     R7,#05H
0006 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 191
0009 D2B2              SETB    CE
                                           ; SOURCE LINE # 192
000B 22                RET     
             ; FUNCTION _NRF_channel (END)

             ; FUNCTION NRF_irq_clean (BEGIN)
                                           ; SOURCE LINE # 194
                                           ; SOURCE LINE # 195
                                           ; SOURCE LINE # 196
0000 C2B2              CLR     CE
                                           ; SOURCE LINE # 197
0002 7D70              MOV     R5,#070H
0004 7F07              MOV     R7,#07H
0006 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 198
0009 D2B2              SETB    CE
                                           ; SOURCE LINE # 199
000B 22                RET     
             ; FUNCTION NRF_irq_clean (END)

             ; FUNCTION _NRF_data_length (BEGIN)
                                           ; SOURCE LINE # 201
;---- Variable 'l' assigned to Register 'R5' ----
0000 AD07              MOV     R5,AR7
                                           ; SOURCE LINE # 202
                                           ; SOURCE LINE # 203
0002 C2B2              CLR     CE
                                           ; SOURCE LINE # 204
0004 7F11              MOV     R7,#011H
0006 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 205
0009 D2B2              SETB    CE
                                           ; SOURCE LINE # 206
000B 22                RET     
             ; FUNCTION _NRF_data_length (END)

             ; FUNCTION NRF_init (BEGIN)
                                           ; SOURCE LINE # 208
                                           ; SOURCE LINE # 209
                                           ; SOURCE LINE # 210
0000 120000      R     LCALL   NRF_init_0
                                           ; SOURCE LINE # 211
0003 120000      R     LCALL   NRF_mode_rx
                                           ; SOURCE LINE # 213
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 120000      R     LCALL   _NRF_power
                                           ; SOURCE LINE # 214
000B 7F0B              MOV     R7,#0BH
000D 020000      R     LJMP    _NRF_data_length
             ; FUNCTION NRF_init (END)

C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 46  

             ; FUNCTION NRF_reset (BEGIN)
                                           ; SOURCE LINE # 219
                                           ; SOURCE LINE # 220
                                           ; SOURCE LINE # 221
0000 120000      R     LCALL   NRF_init_0
                                           ; SOURCE LINE # 222
0003 120000      R     LCALL   NRF_irq_clean
                                           ; SOURCE LINE # 224
0006 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 225
0009 7FE1              MOV     R7,#0E1H
                                           ; SOURCE LINE # 226
                                           ; SOURCE LINE # 227
000B 120000      R     LCALL   L?0179
                                           ; SOURCE LINE # 228
000E 7FE2              MOV     R7,#0E2H
0010 120000      R     LCALL   _SPI_transfer
                                           ; SOURCE LINE # 229
0013 020000      R     LJMP    SPI_slaveDisable
             ; FUNCTION NRF_reset (END)

             ; FUNCTION NRF_test (BEGIN)
                                           ; SOURCE LINE # 232
                                           ; SOURCE LINE # 233
                                           ; SOURCE LINE # 234
0000 E4                CLR     A
0001 F500        R     MOV     NRF_error,A
                                           ; SOURCE LINE # 235
0003 7800        R     MOV     R0,#LOW tx
0005 7C00        R     MOV     R4,#HIGH tx
0007 FD                MOV     R5,A
0008 7BFF              MOV     R3,#0FFH
000A 7A00        R     MOV     R2,#HIGH _?ix1000
000C 7900        R     MOV     R1,#LOW _?ix1000
000E FE                MOV     R6,A
000F 7F01              MOV     R7,#01H
0011 120000      E     LCALL   ?C?COPY
                                           ; SOURCE LINE # 238
0014 C2B2              CLR     CE
                                           ; SOURCE LINE # 240
0016 209603            JB      IRQ,?C0102
0019 430008      R     ORL     NRF_error,#08H
001C         ?C0102:
                                           ; SOURCE LINE # 244
001C 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 245
001F 7F20              MOV     R7,#020H
0021 120000      R     LCALL   _SPI_transfer
0024 8F00        R     MOV     temp,R7
0026 EF                MOV     A,R7
0027 640E              XRL     A,#0EH
0029 6003              JZ      ?C0103
                                           ; SOURCE LINE # 246
002B 430080      R     ORL     NRF_error,#080H
                                           ; SOURCE LINE # 247
002E         ?C0103:
                                           ; SOURCE LINE # 248
002E 7F0A              MOV     R7,#0AH
                                           ; SOURCE LINE # 249
                                           ; SOURCE LINE # 251
0030 120000      R     LCALL   L?0179
                                           ; SOURCE LINE # 252
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 47  

0033 E4                CLR     A
0034 FF                MOV     R7,A
0035 120000      R     LCALL   _SPI_transfer
                                           ; SOURCE LINE # 253
0038 E4                CLR     A
0039 FF                MOV     R7,A
003A 120000      R     LCALL   _SPI_transfer
003D EF                MOV     A,R7
003E 640A              XRL     A,#0AH
0040 6003              JZ      ?C0104
0042 430002      R     ORL     NRF_error,#02H
0045         ?C0104:
                                           ; SOURCE LINE # 254
0045 120000      R     LCALL   SPI_slaveDisable
                                           ; SOURCE LINE # 256
0048 E4                CLR     A
0049 FD                MOV     R5,A
004A 7F01              MOV     R7,#01H
004C 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 257
004F 7F04              MOV     R7,#04H
0051 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 258
0054 0D                INC     R5
0055 7F11              MOV     R7,#011H
0057 120000      R     LCALL   _NRF_REG_write
                                           ; SOURCE LINE # 259
005A 7B00              MOV     R3,#00H
005C 7A00        R     MOV     R2,#HIGH tx
005E 7900        R     MOV     R1,#LOW tx
0060 120000      R     LCALL   _NRF_FIFO_write
                                           ; SOURCE LINE # 260
0063 D2B2              SETB    CE
                                           ; SOURCE LINE # 261
0065 7F02              MOV     R7,#02H
0067 7E00              MOV     R6,#00H
0069 120000      E     LCALL   _delay
                                           ; SOURCE LINE # 262
006C 120000      R     LCALL   SPI_slaveEnable
                                           ; SOURCE LINE # 263
006F E4                CLR     A
0070 FF                MOV     R7,A
0071 120000      R     LCALL   _SPI_transfer
0074 EF                MOV     A,R7
0075 642E              XRL     A,#02EH
0077 6003              JZ      ?C0108
0079 430014      R     ORL     NRF_error,#014H
007C         ?C0108:
                                           ; SOURCE LINE # 264
007C 120000      R     LCALL   SPI_slaveDisable
                                           ; SOURCE LINE # 266
007F 309603            JNB     IRQ,?C0109
0082 430008      R     ORL     NRF_error,#08H
0085         ?C0109:
                                           ; SOURCE LINE # 268
0085 E500        R     MOV     A,NRF_error
0087 6007              JZ      ?C0110
0089 6480              XRL     A,#080H
008B 6003              JZ      ?C0110
008D 430001      R     ORL     NRF_error,#01H
0090         ?C0110:
                                           ; SOURCE LINE # 270
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 48  

0090 120000      R     LCALL   NRF_irq_clean
                                           ; SOURCE LINE # 273
0093 AF00        R     MOV     R7,NRF_error
                                           ; SOURCE LINE # 274
0095 22                RET     
             ; FUNCTION NRF_test (END)

             ; FUNCTION EEPROM_test (BEGIN)
                                           ; SOURCE LINE # 278
                                           ; SOURCE LINE # 279
                                           ; SOURCE LINE # 280
0000 750001      R     MOV     addrPage,#01H
                                           ; SOURCE LINE # 282
0003 75F50C            MOV     IAP_TPS,#0CH
0006 75C780            MOV     IAP_CONTR,#080H
                                           ; SOURCE LINE # 284
0009 AF00        R     MOV     R7,addrPage
000B 120000      E     LCALL   _EEPROM_cleanPage
                                           ; SOURCE LINE # 285
000E E500        R     MOV     A,addrPage
0010 7F00              MOV     R7,#00H
0012 25E0              ADD     A,ACC
0014 FE                MOV     R6,A
0015 7DAA              MOV     R5,#0AAH
0017 120000      E     LCALL   _EEPROM_write
                                           ; SOURCE LINE # 286
001A E500        R     MOV     A,addrPage
001C 7F00              MOV     R7,#00H
001E 25E0              ADD     A,ACC
0020 FE                MOV     R6,A
0021 120000      E     LCALL   _EEPROM_read
0024 EF                MOV     A,R7
0025 64AA              XRL     A,#0AAH
0027 6002              JZ      ?C0115
0029 8020              SJMP    ?C0172
002B         ?C0115:
                                           ; SOURCE LINE # 287
002B AF00        R     MOV     R7,addrPage
002D 120000      E     LCALL   _EEPROM_cleanPage
                                           ; SOURCE LINE # 288
0030 E500        R     MOV     A,addrPage
0032 7F00              MOV     R7,#00H
0034 25E0              ADD     A,ACC
0036 FE                MOV     R6,A
0037 7D55              MOV     R5,#055H
0039 120000      E     LCALL   _EEPROM_write
                                           ; SOURCE LINE # 289
003C E500        R     MOV     A,addrPage
003E 7F00              MOV     R7,#00H
0040 25E0              ADD     A,ACC
0042 FE                MOV     R6,A
0043 120000      E     LCALL   _EEPROM_read
0046 EF                MOV     A,R7
0047 6455              XRL     A,#055H
0049 6006              JZ      ?C0126
004B         ?C0172:
004B E4                CLR     A
004C F5C7              MOV     IAP_CONTR,A
004E 7F01              MOV     R7,#01H
0050 22                RET     
0051         ?C0126:
                                           ; SOURCE LINE # 291
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 49  

0051 E4                CLR     A
0052 F5C7              MOV     IAP_CONTR,A
                                           ; SOURCE LINE # 293
0054 FF                MOV     R7,A
                                           ; SOURCE LINE # 294
0055         ?C0119:
0055 22                RET     
             ; FUNCTION EEPROM_test (END)

             ; FUNCTION _LED_flash (BEGIN)
                                           ; SOURCE LINE # 298
0000 8F00        R     MOV     t,R7
                                           ; SOURCE LINE # 299
0002         ?C0127:
                                           ; SOURCE LINE # 300
0002 E500        R     MOV     A,t
0004 6016              JZ      ?C0135
                                           ; SOURCE LINE # 301
                                           ; SOURCE LINE # 302
0006 D292              SETB    LED
                                           ; SOURCE LINE # 303
0008 7F0A              MOV     R7,#0AH
000A 7E00              MOV     R6,#00H
000C 120000      E     LCALL   _delay
                                           ; SOURCE LINE # 304
000F C292              CLR     LED
                                           ; SOURCE LINE # 305
0011 7F5A              MOV     R7,#05AH
0013 7E00              MOV     R6,#00H
0015 120000      E     LCALL   _delay
                                           ; SOURCE LINE # 306
0018 1500        R     DEC     t
                                           ; SOURCE LINE # 307
001A 80E6              SJMP    ?C0127
                                           ; SOURCE LINE # 308
001C         ?C0135:
001C 22                RET     
             ; FUNCTION _LED_flash (END)

             ; FUNCTION _Int16ToStr (BEGIN)
                                           ; SOURCE LINE # 312
;---- Variable 'i' assigned to Register 'R2/R3' ----
0000 AB07              MOV     R3,AR7
0002 AA06              MOV     R2,AR6
                                           ; SOURCE LINE # 313
                                           ; SOURCE LINE # 317
0004 900000      R     MOV     DPTR,#str
0007 7430              MOV     A,#030H
0009 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 318
000A A3                INC     DPTR
000B 7478              MOV     A,#078H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 319
000E EA                MOV     A,R2
000F C4                SWAP    A
0010 540F              ANL     A,#0FH
0012 FF                MOV     R7,A
;---- Variable 't' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 320
0013 C3                CLR     C
0014 940A              SUBB    A,#0AH
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 50  

0016 7480              MOV     A,#080H
0018 9480              SUBB    A,#080H
001A EF                MOV     A,R7
001B 5006              JNC     ?C0136
001D 2430              ADD     A,#030H
001F A3                INC     DPTR
0020 F0                MOVX    @DPTR,A
0021 8006              SJMP    ?C0137
0023         ?C0136:
                                           ; SOURCE LINE # 321
0023 2437              ADD     A,#037H
0025 900000      R     MOV     DPTR,#str+02H
0028 F0                MOVX    @DPTR,A
0029         ?C0137:
                                           ; SOURCE LINE # 322
0029 EA                MOV     A,R2
002A 540F              ANL     A,#0FH
002C FF                MOV     R7,A
                                           ; SOURCE LINE # 323
002D C3                CLR     C
002E 940A              SUBB    A,#0AH
0030 7480              MOV     A,#080H
0032 9480              SUBB    A,#080H
0034 EF                MOV     A,R7
0035 5004              JNC     ?C0138
0037 2430              ADD     A,#030H
0039 8002              SJMP    ?C0173
003B         ?C0138:
                                           ; SOURCE LINE # 324
003B 2437              ADD     A,#037H
003D         ?C0173:
003D 900000      R     MOV     DPTR,#str+03H
0040 F0                MOVX    @DPTR,A
0041         ?C0139:
                                           ; SOURCE LINE # 325
0041 EA                MOV     A,R2
0042 C4                SWAP    A
0043 F8                MOV     R0,A
0044 54F0              ANL     A,#0F0H
0046 C8                XCH     A,R0
0047 EB                MOV     A,R3
0048 C4                SWAP    A
0049 540F              ANL     A,#0FH
004B 48                ORL     A,R0
004C 540F              ANL     A,#0FH
004E FF                MOV     R7,A
                                           ; SOURCE LINE # 326
004F C3                CLR     C
0050 940A              SUBB    A,#0AH
0052 7480              MOV     A,#080H
0054 9480              SUBB    A,#080H
0056 EF                MOV     A,R7
0057 5004              JNC     ?C0140
0059 2430              ADD     A,#030H
005B 8002              SJMP    ?C0174
005D         ?C0140:
                                           ; SOURCE LINE # 327
005D 2437              ADD     A,#037H
005F         ?C0174:
005F 900000      R     MOV     DPTR,#str+04H
0062 F0                MOVX    @DPTR,A
0063         ?C0141:
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 51  

                                           ; SOURCE LINE # 328
0063 EB                MOV     A,R3
0064 540F              ANL     A,#0FH
0066 FF                MOV     R7,A
                                           ; SOURCE LINE # 329
0067 C3                CLR     C
0068 940A              SUBB    A,#0AH
006A 7480              MOV     A,#080H
006C 9480              SUBB    A,#080H
006E EF                MOV     A,R7
006F 5004              JNC     ?C0142
0071 2430              ADD     A,#030H
0073 8002              SJMP    ?C0175
0075         ?C0142:
                                           ; SOURCE LINE # 330
0075 2437              ADD     A,#037H
0077         ?C0175:
0077 900000      R     MOV     DPTR,#str+05H
007A F0                MOVX    @DPTR,A
007B         ?C0143:
                                           ; SOURCE LINE # 331
007B E4                CLR     A
007C 900000      R     MOV     DPTR,#str+06H
007F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 333
0080 7B01              MOV     R3,#01H
0082 7A00        R     MOV     R2,#HIGH str
0084 7900        R     MOV     R1,#LOW str
                                           ; SOURCE LINE # 334
0086 22                RET     
             ; FUNCTION _Int16ToStr (END)

             ; FUNCTION _timer_init (BEGIN)
                                           ; SOURCE LINE # 341
;---- Variable 'numTimers' assigned to Register 'R5' ----
;---- Variable 'pTimers' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 342
                                           ; SOURCE LINE # 345
0000 8B00        R     MOV     _pTimers,R3
0002 8A00        R     MOV     _pTimers+01H,R2
0004 8900        R     MOV     _pTimers+02H,R1
                                           ; SOURCE LINE # 346
0006 8D00        R     MOV     _numTimers,R5
                                           ; SOURCE LINE # 348
0008 E4                CLR     A
0009 F500        R     MOV     i,A
000B         ?C0145:
000B E500        R     MOV     A,i
000D C3                CLR     C
000E 9500        R     SUBB    A,_numTimers
0010 505C              JNC     ?C0148
                                           ; SOURCE LINE # 349
                                           ; SOURCE LINE # 350
0012 AB00        R     MOV     R3,_pTimers
0014 AA00        R     MOV     R2,_pTimers+01H
0016 A900        R     MOV     R1,_pTimers+02H
0018 75F009            MOV     B,#09H
001B E500        R     MOV     A,i
001D A4                MUL     AB
001E F582              MOV     DPL,A
0020 85F083            MOV     DPH,B
0023 E4                CLR     A
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 52  

0024 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 351
0027 E500        R     MOV     A,i
0029 75F009            MOV     B,#09H
002C A4                MUL     AB
002D FF                MOV     R7,A
002E AEF0              MOV     R6,B
0030 29                ADD     A,R1
0031 F9                MOV     R1,A
0032 EA                MOV     A,R2
0033 3E                ADDC    A,R6
0034 FA                MOV     R2,A
0035 900001            MOV     DPTR,#01H
0038 E4                CLR     A
0039 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 352
003C 900002            MOV     DPTR,#02H
003F E4                CLR     A
0040 F5F0              MOV     B,A
0042 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 353
0045 900004            MOV     DPTR,#04H
0048 E4                CLR     A
0049 F5F0              MOV     B,A
004B 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 354
004E 7B00              MOV     R3,#00H
0050 7A00              MOV     R2,#00H
0052 7900              MOV     R1,#00H
0054 C003              PUSH    AR3
0056 C002              PUSH    AR2
0058 C001              PUSH    AR1
005A AB00        R     MOV     R3,_pTimers
005C E500        R     MOV     A,_pTimers+02H
005E 2F                ADD     A,R7
005F F9                MOV     R1,A
0060 E500        R     MOV     A,_pTimers+01H
0062 3E                ADDC    A,R6
0063 FA                MOV     R2,A
0064 900006            MOV     DPTR,#06H
0067 120000      E     LCALL   ?C?PSTOPTR
                                           ; SOURCE LINE # 355
006A 0500        R     INC     i
006C 809D              SJMP    ?C0145
                                           ; SOURCE LINE # 356
006E         ?C0148:
006E 22                RET     
             ; FUNCTION _timer_init (END)

             ; FUNCTION _timer_cbRegist (BEGIN)
                                           ; SOURCE LINE # 358
;---- Variable 'callback' assigned to Register 'R1/R2/R3' ----
;---- Variable 'index' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 359
                                           ; SOURCE LINE # 366
0000 C003              PUSH    AR3
0002 C002              PUSH    AR2
0004 C001              PUSH    AR1
0006 EF                MOV     A,R7
0007 75F009            MOV     B,#09H
000A A4                MUL     AB
000B AB00        R     MOV     R3,_pTimers
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 53  

000D 2500        R     ADD     A,_pTimers+02H
000F F9                MOV     R1,A
0010 E500        R     MOV     A,_pTimers+01H
0012 35F0              ADDC    A,B
0014 FA                MOV     R2,A
0015 900006            MOV     DPTR,#06H
0018 120000      E     LCALL   ?C?PSTOPTR
                                           ; SOURCE LINE # 367
001B 22                RET     
             ; FUNCTION _timer_cbRegist (END)

             ; FUNCTION _timer_startOnce (BEGIN)
                                           ; SOURCE LINE # 369
0000 8F00        R     MOV     index,R7
0002 8C00        R     MOV     ms,R4
0004 8D00        R     MOV     ms+01H,R5
                                           ; SOURCE LINE # 370
                                           ; SOURCE LINE # 371
0006 AB00        R     MOV     R3,_pTimers
0008 AA00        R     MOV     R2,_pTimers+01H
000A A900        R     MOV     R1,_pTimers+02H
000C 75F009            MOV     B,#09H
000F EF                MOV     A,R7
0010 A4                MUL     AB
0011 F582              MOV     DPL,A
0013 85F083            MOV     DPH,B
0016 E4                CLR     A
0017 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 372
001A E500        R     MOV     A,index
001C 75F009            MOV     B,#09H
001F A4                MUL     AB
0020 29                ADD     A,R1
0021 F9                MOV     R1,A
0022 EA                MOV     A,R2
0023 35F0              ADDC    A,B
0025 FA                MOV     R2,A
0026 900001            MOV     DPTR,#01H
0029 E4                CLR     A
002A 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 373
002D 900002            MOV     DPTR,#02H
0030 E500        R     MOV     A,ms
0032 8500F0      R     MOV     B,ms+01H
0035 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 374
0038 900004            MOV     DPTR,#04H
003B E4                CLR     A
003C F5F0              MOV     B,A
003E 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 375
0041 AB00        R     MOV     R3,_pTimers
0043 AA00        R     MOV     R2,_pTimers+01H
0045 A900        R     MOV     R1,_pTimers+02H
0047 75F009            MOV     B,#09H
004A E500        R     MOV     A,index
004C A4                MUL     AB
004D F582              MOV     DPL,A
004F 85F083            MOV     DPH,B
0052 7401              MOV     A,#01H
0054 020000      E     LJMP    ?C?CSTOPTR
             ; FUNCTION _timer_startOnce (END)
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 54  


             ; FUNCTION _timer_startTimes (BEGIN)
                                           ; SOURCE LINE # 378
0000 8F00        R     MOV     index,R7
0002 8C00        R     MOV     ms,R4
0004 8D00        R     MOV     ms+01H,R5
0006 8B00        R     MOV     times,R3
                                           ; SOURCE LINE # 379
                                           ; SOURCE LINE # 380
0008 AB00        R     MOV     R3,_pTimers
000A AA00        R     MOV     R2,_pTimers+01H
000C A900        R     MOV     R1,_pTimers+02H
000E 75F009            MOV     B,#09H
0011 EF                MOV     A,R7
0012 A4                MUL     AB
0013 F582              MOV     DPL,A
0015 85F083            MOV     DPH,B
0018 E4                CLR     A
0019 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 381
001C E500        R     MOV     A,index
001E 75F009            MOV     B,#09H
0021 A4                MUL     AB
0022 29                ADD     A,R1
0023 F9                MOV     R1,A
0024 EA                MOV     A,R2
0025 35F0              ADDC    A,B
0027 FA                MOV     R2,A
0028 900001            MOV     DPTR,#01H
002B E4                CLR     A
002C 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 382
002F AE00        R     MOV     R6,ms
0031 AF00        R     MOV     R7,ms+01H
0033 900004            MOV     DPTR,#04H
0036 EE                MOV     A,R6
0037 8FF0              MOV     B,R7
0039 120000      E     LCALL   ?C?ISTOPTR
003C 900002            MOV     DPTR,#02H
003F EE                MOV     A,R6
0040 8FF0              MOV     B,R7
0042 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 383
0045 AB00        R     MOV     R3,_pTimers
0047 AA00        R     MOV     R2,_pTimers+01H
0049 A900        R     MOV     R1,_pTimers+02H
004B 75F009            MOV     B,#09H
004E E500        R     MOV     A,index
0050 A4                MUL     AB
0051 F582              MOV     DPL,A
0053 85F083            MOV     DPH,B
0056 E500        R     MOV     A,times
0058 020000      E     LJMP    ?C?CSTOPTR
             ; FUNCTION _timer_startTimes (END)

             ; FUNCTION _timer_startCycle (BEGIN)
                                           ; SOURCE LINE # 386
;---- Variable 'ms' assigned to Register 'R4/R5' ----
;---- Variable 'index' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 387
                                           ; SOURCE LINE # 388
0000 7BFF              MOV     R3,#0FFH
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 55  

0002 020000      R     LJMP    _timer_startTimes
             ; FUNCTION _timer_startCycle (END)

             ; FUNCTION timer_tick (BEGIN)
                                           ; SOURCE LINE # 391
                                           ; SOURCE LINE # 392
                                           ; SOURCE LINE # 396
0000 0500        R     INC     step
                                           ; SOURCE LINE # 397
0002 C3                CLR     C
0003 E500        R     MOV     A,step
0005 9403              SUBB    A,#03H
0007 7480              MOV     A,#080H
0009 9480              SUBB    A,#080H
000B 5003              JNC     $ + 5H
000D 020000      R     LJMP    ?C0154
                                           ; SOURCE LINE # 398
0010 E4                CLR     A
0011 F500        R     MOV     step,A
                                           ; SOURCE LINE # 400
0013 F500        R     MOV     i,A
0015         ?C0155:
0015 E500        R     MOV     A,i
0017 C3                CLR     C
0018 9500        R     SUBB    A,_numTimers
001A 4003              JC      $ + 5H
001C 020000      R     LJMP    ?C0154
                                           ; SOURCE LINE # 401
                                           ; SOURCE LINE # 402
001F AB00        R     MOV     R3,_pTimers
0021 AA00        R     MOV     R2,_pTimers+01H
0023 A900        R     MOV     R1,_pTimers+02H
0025 75F009            MOV     B,#09H
0028 E500        R     MOV     A,i
002A A4                MUL     AB
002B F582              MOV     DPL,A
002D 85F083            MOV     DPH,B
0030 120000      E     LCALL   ?C?CLDOPTR
0033 7003              JNZ     $ + 5H
0035 020000      R     LJMP    ?C0157
                                           ; SOURCE LINE # 403
                                           ; SOURCE LINE # 404
0038 E500        R     MOV     A,i
003A 75F009            MOV     B,#09H
003D A4                MUL     AB
003E 29                ADD     A,R1
003F F9                MOV     R1,A
0040 EA                MOV     A,R2
0041 35F0              ADDC    A,B
0043 FA                MOV     R2,A
0044 900002            MOV     DPTR,#02H
0047 120000      E     LCALL   ?C?ILDOPTR
004A D3                SETB    C
004B 9403              SUBB    A,#03H
004D E5F0              MOV     A,B
004F 9400              SUBB    A,#00H
0051 400D              JC      ?C0159
0053 900002            MOV     DPTR,#02H
0056 74FF              MOV     A,#0FFH
0058 75F0FD            MOV     B,#0FDH
005B 120000      E     LCALL   ?C?IILDOPTR
005E 8079              SJMP    ?C0157
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 56  

0060         ?C0159:
                                           ; SOURCE LINE # 406
                                           ; SOURCE LINE # 407
0060 900004            MOV     DPTR,#04H
0063 120000      E     LCALL   ?C?ILDOPTR
0066 FF                MOV     R7,A
0067 900002            MOV     DPTR,#02H
006A E5F0              MOV     A,B
006C 8FF0              MOV     B,R7
006E 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 408
0071 AB00        R     MOV     R3,_pTimers
0073 AA00        R     MOV     R2,_pTimers+01H
0075 A900        R     MOV     R1,_pTimers+02H
0077 75F009            MOV     B,#09H
007A E500        R     MOV     A,i
007C A4                MUL     AB
007D F582              MOV     DPL,A
007F 85F083            MOV     DPH,B
0082 120000      E     LCALL   ?C?CLDOPTR
0085 F4                CPL     A
0086 6010              JZ      ?C0161
0088 75F009            MOV     B,#09H
008B E500        R     MOV     A,i
008D A4                MUL     AB
008E F582              MOV     DPL,A
0090 85F083            MOV     DPH,B
0093 74FF              MOV     A,#0FFH
0095 120000      E     LCALL   ?C?CILDOPTR
0098         ?C0161:
                                           ; SOURCE LINE # 409
0098 E500        R     MOV     A,i
009A 75F009            MOV     B,#09H
009D A4                MUL     AB
009E FF                MOV     R7,A
009F AEF0              MOV     R6,B
00A1 AB00        R     MOV     R3,_pTimers
00A3 2500        R     ADD     A,_pTimers+02H
00A5 F9                MOV     R1,A
00A6 E500        R     MOV     A,_pTimers+01H
00A8 3E                ADDC    A,R6
00A9 FA                MOV     R2,A
00AA 900004            MOV     DPTR,#04H
00AD 120000      E     LCALL   ?C?ILDOPTR
00B0 45F0              ORL     A,B
00B2 7013              JNZ     ?C0162
00B4 AA00        R     MOV     R2,_pTimers+01H
00B6 A900        R     MOV     R1,_pTimers+02H
00B8 75F009            MOV     B,#09H
00BB E500        R     MOV     A,i
00BD A4                MUL     AB
00BE F582              MOV     DPL,A
00C0 85F083            MOV     DPH,B
00C3 E4                CLR     A
00C4 120000      E     LCALL   ?C?CSTOPTR
00C7         ?C0162:
                                           ; SOURCE LINE # 410
00C7 AB00        R     MOV     R3,_pTimers
00C9 E500        R     MOV     A,_pTimers+02H
00CB 2F                ADD     A,R7
00CC F9                MOV     R1,A
00CD E500        R     MOV     A,_pTimers+01H
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 57  

00CF 3E                ADDC    A,R6
00D0 FA                MOV     R2,A
00D1 900001            MOV     DPTR,#01H
00D4 7401              MOV     A,#01H
00D6 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 411
                                           ; SOURCE LINE # 412
                                           ; SOURCE LINE # 413
00D9         ?C0157:
00D9 0500        R     INC     i
00DB 020000      R     LJMP    ?C0155
                                           ; SOURCE LINE # 414
00DE         ?C0154:
00DE 22                RET     
             ; FUNCTION timer_tick (END)

             ; FUNCTION timer_process (BEGIN)
                                           ; SOURCE LINE # 416
                                           ; SOURCE LINE # 417
                                           ; SOURCE LINE # 420
0000 E4                CLR     A
0001 F500        R     MOV     i,A
0003         ?C0163:
0003 E500        R     MOV     A,i
0005 C3                CLR     C
0006 9500        R     SUBB    A,_numTimers
0008 5047              JNC     ?C0168
                                           ; SOURCE LINE # 421
                                           ; SOURCE LINE # 422
000A E500        R     MOV     A,i
000C 75F009            MOV     B,#09H
000F A4                MUL     AB
0010 AB00        R     MOV     R3,_pTimers
0012 2500        R     ADD     A,_pTimers+02H
0014 F9                MOV     R1,A
0015 E500        R     MOV     A,_pTimers+01H
0017 35F0              ADDC    A,B
0019 FA                MOV     R2,A
001A 900001            MOV     DPTR,#01H
001D 120000      E     LCALL   ?C?CLDOPTR
0020 602B              JZ      ?C0165
                                           ; SOURCE LINE # 423
                                           ; SOURCE LINE # 424
0022 900001            MOV     DPTR,#01H
0025 E4                CLR     A
0026 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 425
0029 900006            MOV     DPTR,#06H
002C 120000      E     LCALL   ?C?PLDOPTR
002F EA                MOV     A,R2
0030 49                ORL     A,R1
0031 4B                ORL     A,R3
0032 6019              JZ      ?C0165
0034 E500        R     MOV     A,i
0036 75F009            MOV     B,#09H
0039 A4                MUL     AB
003A AB00        R     MOV     R3,_pTimers
003C 2500        R     ADD     A,_pTimers+02H
003E F9                MOV     R1,A
003F E500        R     MOV     A,_pTimers+01H
0041 35F0              ADDC    A,B
0043 FA                MOV     R2,A
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 58  

0044 900006            MOV     DPTR,#06H
0047 120000      E     LCALL   ?C?PLDOPTR
004A 120000      E     LCALL   ?C?ICALL
                                           ; SOURCE LINE # 426
                                           ; SOURCE LINE # 427
004D         ?C0165:
004D 0500        R     INC     i
004F 80B2              SJMP    ?C0163
                                           ; SOURCE LINE # 429
0051         ?C0168:
0051 22                RET     
             ; FUNCTION timer_process (END)

C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 59  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
P4 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C0H  1
P5 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
P6 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E8H  1
P7 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
CE . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
timer_process. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
NRF_test . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  NRF_error. . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
  tx . . . . . . . . . . . . . . . . .  AUTO     DATA   ARRAY    0001H  1
  temp . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0002H  1
NRF_init_0 . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
_delay . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_Int16ToStr. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
  t. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  str. . . . . . . . . . . . . . . . .  STATIC   XDATA  ARRAY    0000H  7
SPI_init_0 . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
SPI_init_1 . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
SPI_slaveDisable . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_NRF_channel . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  c. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
_NRF_REG_read. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  address. . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  t. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
_numTimers . . . . . . . . . . . . . .  STATIC   DATA   U_CHAR   0001H  1
_timer_startCycle. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  index. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  ms . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0004H  2
_NRF_addr_rx . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  DATA_IN. . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
_EEPROM_cleanPage. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
timer_tick . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  step . . . . . . . . . . . . . . . .  STATIC   DATA   U_CHAR   0000H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
_NRF_addr_tx . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  DATA_IN. . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
IAP_TPS. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F5H  1
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
_NRF_REG_write . . . . . . . . . . . .  PUBLIC   CODE   PROC     0006H  -----
  address. . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  command. . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
SPI_slaveEnable. . . . . . . . . . . .  PUBLIC   CODE   PROC     0006H  -----
_SPI_transfer. . . . . . . . . . . . .  PUBLIC   CODE   PROC     002FH  -----
  byte . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
MOSI . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0093H  1
MISO . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0094H  1
NRF_mode_rx. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_timer_init. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 60  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  pTimers. . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
  numTimers. . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
_timer_startTimes. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  index. . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
  ms . . . . . . . . . . . . . . . . .  AUTO     DATA   U_INT    0001H  2
  times. . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0003H  1
NRF_mode_tx. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_timer_cbRegist. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  index. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  callback . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
_timer_startOnce . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  index. . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
  ms . . . . . . . . . . . . . . . . .  AUTO     DATA   U_INT    0001H  2
_?ix1000 . . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    0000H  1
IAP_CONTR. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C7H  1
_LED_flash . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  t. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
_pTimers . . . . . . . . . . . . . . .  STATIC   DATA   PTR      0002H  3
_EEPROM_read . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_NRF_data_length . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  l. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
_SPI_begin . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  setting. . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
LED. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0092H  1
STimer . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  isRuning . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  isTimeout. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  count. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  reload . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  callback . . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  3
_EEPROM_write. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
SCK. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0095H  1
CSN. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
_NRF_FIFO_read . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  DATA_IN. . . . . . . . . . . . . . .  AUTO     DATA   PTR      0000H  3
  lengh. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0004H  1
IRQ. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0096H  1
NRF_reset. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
EEPROM_test. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  addrPage . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0000H  1
_NRF_power . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  P. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
NRF_irq_clean. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_NRF_FIFO_write. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  DATA_OUT . . . . . . . . . . . . . .  AUTO     DATA   PTR      0000H  3
  lengh. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0004H  1
NRF_init . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1466    ----
   CONSTANT SIZE    =      1    ----
   XDATA SIZE       =      7    ----
   PDATA SIZE       =   ----    ----
C51 COMPILER V9.59.0.0   LOLI3_LIB                                                         05/21/2024 12:45:54 PAGE 61  

   DATA SIZE        =      5      21
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
